<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>文档生成 - Learning Programming Book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The example book covers examples.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">
        <!-- MathJax -->
        <!-- <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
        <script async type="text/javascript" src="theme/MathJax.js"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../prefix.html">Prefix</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">程序设计语言</li><li class="chapter-item expanded "><a href="../Python/Python编程基础.html">Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Python/Python编程基础.html">编程基础</a></li><li class="chapter-item expanded "><a href="../Python/Python开发环境.html">开发环境</a></li><li class="chapter-item expanded "><a href="../Python/Python数据类型.html">数据类型</a></li><li class="chapter-item expanded "><a href="../Python/Python输入输出.html">输入输出</a></li><li class="chapter-item expanded "><a href="../Python/Python编程应用.html">编程应用</a></li><li class="chapter-item expanded "><a href="../Python/Python数值计算.html">数值计算</a></li><li class="chapter-item expanded "><a href="../Python/Python系统编程.html">系统编程</a></li><li class="chapter-item expanded "><a href="../Python/Python高级编程.html">高级编程</a></li></ol></li><li class="chapter-item expanded "><a href="../Java/JAVA编程基础.html">Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Java/JAVA编程基础.html">编程基础</a></li><li class="chapter-item expanded "><a href="../Java/Java开发环境.html">开发环境</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Java/Maven POM.html">Maven 配置</a></li></ol></li><li class="chapter-item expanded "><a href="../Java/JAVA数据类型.html">数据类型</a></li><li class="chapter-item expanded "><a href="../Java/JAVA输入输出.html">输入输出</a></li><li class="chapter-item expanded "><a href="../Java/JAVA系统编程.html">系统编程</a></li><li class="chapter-item expanded "><a href="../Java/Scala.html">Scala</a></li><li class="chapter-item expanded "><a href="../Java/ScalaFrameworks.html">Scala 框架</a></li></ol></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharp编程基础.html">C#/.NET</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CSharp.NET/CSharp编程基础.html">编程基础</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharp输入输出.html">输入输出</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharp数据容器.html">数据容器</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharp数值计算.html">数值计算</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/dotnet开发.html">.NET 开发</a></li></ol></li><li class="chapter-item expanded "><a href="../CC++/Modern C++.html">C and C++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CC++/Modern C++.html">Modern C++</a></li><li class="chapter-item expanded "><a href="../CC++/C++开发环境.html">开发环境</a></li><li class="chapter-item expanded "><a href="../CC++/C++容器.html">数据容器</a></li><li class="chapter-item expanded "><a href="../CC++/输入输出.html">输入输出</a></li><li class="chapter-item expanded "><a href="../CC++/标准函数库.html">标准库</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CC++/数学函数.html">数学函数</a></li></ol></li></ol></li><li class="chapter-item expanded "><div>Web开发</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../JavaScript/JavaScript.html">JavaScript</a></li><li class="chapter-item expanded "><a href="../JavaScript/TypeScript.html">TypeScript</a></li><li class="chapter-item expanded "><a href="../JavaScript/JS开发环境.html">开发环境</a></li></ol></li><li class="chapter-item expanded "><div>开发工具</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../开发环境/git.html">Git</a></li><li class="chapter-item expanded "><a href="../笔记/正则表达式.html">正则表达式</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">操作系统</li><li class="chapter-item expanded "><a href="../Linux/Linux配置和管理.html">Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Linux/Linux配置和管理.html">配置管理</a></li><li class="chapter-item expanded "><a href="../Linux/Linux-Shell.html">Shell Script</a></li><li class="chapter-item expanded "><a href="../Linux/Linux发行版.html">Linux 发行版</a></li><li class="chapter-item expanded "><a href="../Linux/操作系统原理.html">操作系统原理</a></li></ol></li><li class="chapter-item expanded "><a href="../Windows/Windows配置管理.html">Windows</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Windows/Windows配置管理.html">配置管理</a></li><li class="chapter-item expanded "><a href="../Windows/Windows Shell.html">Shell</a></li><li class="chapter-item expanded "><a href="../Windows/Windows Applications.html">应用软件</a></li></ol></li><li class="chapter-item expanded "><div>应用软件</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../应用软件/程序开发软件.html">程序开发</a></li><li class="chapter-item expanded "><a href="../应用软件/服务器管理软件.html">服务器管理</a></li><li class="chapter-item expanded "><a href="../应用软件/网络访问软件.html">网络访问</a></li><li class="chapter-item expanded "><a href="../应用软件/网络服务软件.html">网络服务</a></li><li class="chapter-item expanded "><a href="../应用软件/文档生成软件.html" class="active">文档生成</a></li><li class="chapter-item expanded "><a href="../应用软件/文件处理软件.html">文件处理</a></li><li class="chapter-item expanded "><a href="../应用软件/协作办公软件.html">协作办公</a></li><li class="chapter-item expanded "><a href="../应用软件/知识管理软件.html">知识管理</a></li><li class="chapter-item expanded "><a href="../应用软件/多媒体编辑软件.html">多媒体编辑</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">机器学习</li><li class="chapter-item expanded "><a href="../机器学习/机器学习实践.html">机器学习实践</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../机器学习/ScikitLearn.html">scikit-learn</a></li><li class="chapter-item expanded "><a href="../机器学习/TensorFlow.html">TensorFlow</a></li><li class="chapter-item expanded "><a href="../机器学习/Pytorch.html">Pytorch</a></li><li class="chapter-item expanded "><a href="../机器学习/图神经网络.html">图神经网络</a></li></ol></li><li class="chapter-item expanded "><a href="../机器学习/机器学习原理与算法.html">原理与算法</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../机器学习/统计学习算法.html">统计学习算法</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">数据库</li><li class="chapter-item expanded "><a href="../数据库/SQL语法.html">SQL</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../数据库/SQL DDL.html">SQL DDL</a></li><li class="chapter-item expanded "><a href="../数据库/SQL DML.html">SQL DML</a></li><li class="chapter-item expanded "><a href="../数据库/SQL数据类型.html">数据类型</a></li></ol></li><li class="chapter-item expanded "><a href="../数据库/MySQL.html">MySQL</a></li><li class="chapter-item expanded "><a href="../数据库/PostgreSQL.html">PostgreSQL</a></li><li class="chapter-item expanded "><a href="../数据库/HiveSQL.html">Hive SQL</a></li><li class="chapter-item expanded "><a href="../数据库/Elasticsearch.html">Elasticsearch</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../数据库/Elastic Datasource.html">数据源</a></li></ol></li><li class="chapter-item expanded "><a href="../数据库/Mongodb.html">Mongodb</a></li><li class="chapter-item expanded "><a href="../数据库/GraphDatabase.html">图数据库</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">服务和大数据平台</li><li class="chapter-item expanded "><a href="../服务器/分布式大数据处理.html">分布式大数据处理</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../服务器/CDH6大数据集群离线安装.html">CDH6 安装教程</a></li><li class="chapter-item expanded "><a href="../服务器/Spark Python API.html">Pyspark</a></li><li class="chapter-item expanded "><a href="../服务器/流数据处理.html">流数据处理</a></li></ol></li><li class="chapter-item expanded "><a href="../服务器/容器编排.html">容器编排</a></li><li class="chapter-item expanded "><a href="../服务器/虚拟化.html">虚拟化</a></li><li class="chapter-item expanded "><div>任务编排</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../服务器/Airflow.html">Airflow</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">其他</li><li class="chapter-item expanded "><div>数据标记语言</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../数据交换语言/JSON and YAML.html">JSON and YAML</a></li><li class="chapter-item expanded "><a href="../数据交换语言/XML.html">XML</a></li><li class="chapter-item expanded "><a href="../数据交换语言/HTML.html">HTML</a></li></ol></li><li class="chapter-item expanded "><div>网络协议</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Protocols/http.html">HTTP</a></li><li class="chapter-item expanded "><a href="../Protocols/DNS.html">DNS</a></li><li class="chapter-item expanded "><a href="../Protocols/端口分配.html">端口分配</a></li><li class="chapter-item expanded "><a href="../Protocols/IP protocol numbers.html">IP 承载协议</a></li><li class="chapter-item expanded "><a href="../Protocols/RPC.html">RPC</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learning Programming Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="文档生成工具"><a class="header" href="#文档生成工具">文档生成工具</a></h1>
<h2 id="sphinx"><a class="header" href="#sphinx">Sphinx</a></h2>
<p>Sphinx最初用于生成Python代码文档，支持多种语言软件项目的文档生成。支持：输出HTML、LaTeX、ePub、manual页面等、自动交叉引用以及代码高亮等。Sphinx使用<a href="https://docutils.sourceforge.io/docs/user/rst/quickref.html">reStructuredText</a>作为标记语言（类似于Markdown，标记语法更多）<sup class="footnote-reference"><a href="#rst">1</a></sup>。</p>
<blockquote>
<p>Sphinx uses <a href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> as its markup language, and many of its strengths come from the power and straightforwardness of reStructuredText and its parsing and translating suite, the <a href="https://docutils.sourceforge.io/">Docutils</a><sup class="footnote-reference"><a href="#sphinx">2</a></sup>.</p>
</blockquote>
<h3 id="安装"><a class="header" href="#安装">安装</a></h3>
<h5 id="独立安装"><a class="header" href="#独立安装">独立安装</a></h5>
<pre><code class="language-shell">apt install python3-sphinx  # yum install python-sphinx, choco install sphinx
</code></pre>
<blockquote>
<p>如果系统不存在Python环境，将自动安装Python环境；</p>
</blockquote>
<h5 id="虚拟环境安装"><a class="header" href="#虚拟环境安装">虚拟环境安装</a></h5>
<p>使用<a href="../Python/Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html#%E8%99%9A%E6%8B%9FPython%E7%8E%AF%E5%A2%83">virtualenv或conda虚拟环境</a>。如果用于生成代码文档，应该安装在代码开发所在虚拟环境中，因为在导入代码模块时会导入其中的依赖项。因此，独立的虚拟环境无法满足依赖。</p>
<pre><code class="language-shell">conda activate env_dev &amp;&amp; conda install sphinx -c conda-forge
</code></pre>
<p><a href="https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html">Getting Started with Sphinx — Read the Docs 5.21.0 documentation</a></p>
<p><a href="https://www.sphinx-doc.org/en/master/tutorial/index.html">Sphinx tutorial — Sphinx documentation (sphinx-doc.org)</a></p>
<h3 id="配置和编译"><a class="header" href="#配置和编译">配置和编译</a></h3>
<pre><code class="language-shell">sphinx-quickstart  # 自动生成配置文件和编译脚本(make.bat)
sphinx-build -b html sourcedir builddir # =&gt; make html
</code></pre>
<p><code>sourcedir</code>：Sphinx项目使用的所有源文件所在目录（子目录）</p>
<p>语言：默认为英语<code>en</code>，可选择设置中文<code>zh_CN</code>。</p>
<p><a href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-language">Configuration — Sphinx documentation (sphinx-doc.org)</a></p>
<h5 id="首页配置文件"><a class="header" href="#首页配置文件">首页配置文件</a></h5>
<p>定制文档首页以及目录。</p>
<pre><code class="language-rst">.. toctree::
   :maxdepth: 2

   usage/installation   添加要转换的文件：省略扩展名，使用`/`作为路径分隔符
   usage/quickstart
   ...
</code></pre>
<blockquote>
<p>被添加文件所引用的文件也会被解析。</p>
<p><em>文件路径</em></p>
</blockquote>
<h5 id="编译配置文件"><a class="header" href="#编译配置文件">编译配置文件</a></h5>
<p>主题：</p>
<pre><code class="language-shell">conda install -c conda-forge sphinx_rtd_theme
html_theme = 'sphinx_rtd_theme'   # in conf.py
extensions = [ 'sphinx_rtd_theme' ]
</code></pre>
<p><a href="https://sphinx-themes.org/#themes">Sphinx Themes Gallery (sphinx-themes.org)</a></p>
<h3 id="解析和转换python代码"><a class="header" href="#解析和转换python代码">解析和转换Python代码</a></h3>
<pre><code class="language-python">extensions = [
  'sphinx.ext.autodoc',
  'sphinx.ext.napoleon'  # 使用Numpy/Google风格代码注释
]
</code></pre>
<blockquote>
<p>NumPy风格代码注释：可在VS Code中使用<code>autoDocstring</code>自动生成模板并修改内容。</p>
<p><a href="https://www.sphinx-doc.org/en/master/usage/extensions/napoleon.html">sphinx.ext.napoleon – Support for NumPy and Google style docstrings — Sphinx documentation (sphinx-doc.org)</a></p>
<p>注释章节标题：</p>
<ul>
<li><code>Parameters|Arguments|Args</code>/<code>Keyword Args|Keyword Arguments</code>：参数说明；</li>
<li><code>Return|Returns</code>：返回值说明；</li>
<li><code>Raise|Raises</code>：抛出异常说明；</li>
<li><code>Example|Examples</code>：示例；</li>
<li><code>References</code>/<code>See Also</code>：参考文献或跳转链接；</li>
<li><code>Tip</code>/<code>Note</code>/<code>Warns|Warn</code>/<code>Todo</code>：额外的提示信息。</li>
</ul>
</blockquote>
<p>自动导入模块内容：</p>
<pre><code class="language-rst">.. automodule:: my.module
   :members:                    自动导入所有内容并生成文档
.. autoclass:: my.module.class
   :members: open, close        导入指定内容并生成文档
</code></pre>
<blockquote>
<p><a href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc">sphinx.ext.autodoc – Include documentation from docstrings — Sphinx documentation (sphinx-doc.org)</a></p>
</blockquote>
<p>使用<code>sphinx-apidoc</code>可自动扫描指定模块中的内容，并生成对应的<code>.rst文件</code>。</p>
<pre><code class="language-shell">sphinx-apidoc [OPTIONS] -o &lt;OUTPUT_PATH&gt; &lt;MODULE_PATH&gt; [EXCLUDE_PATTERN, ...]
#-f,--force
#-e, --separate        put documentation for each module on its own page
#-M, --module-first    put module documentation before submodule documentation
</code></pre>
<blockquote>
<p>包含<code>__init__.py</code>的目录才会被识别为子模块。</p>
</blockquote>
<h3 id="解析和转换markdown文件3"><a class="header" href="#解析和转换markdown文件3">解析和转换Markdown文件<sup class="footnote-reference"><a href="#sphinx-md">3</a></sup></a></h3>
<p>安装插件：</p>
<pre><code class="language-python">conda install myst-parser -c conda-forge
</code></pre>
<p>更新Sphinx配置文件：配置处理的文件格式扩展名，以及支持的<a href="https://myst-parser.readthedocs.io/en/latest/syntax/optional.html">Markdown扩展</a>。</p>
<pre><code class="language-python">extensions = ['myst_parser']
source_suffix = {
    '.rst': 'restructuredtext',
    '.txt': 'restructuredtext',
    '.md': 'markdown',
}
myst_enable_extensions = [...]  # optional depends: linkify-it-py
</code></pre>
<blockquote>
<p><code>myst-parser</code>不能转换代码中Markdown格式的注释文档。</p>
</blockquote>
<h2 id="d2lbook"><a class="header" href="#d2lbook">d2lbook</a></h2>
<h3 id="安装-1"><a class="header" href="#安装-1">安装</a></h3>
<pre><code class="language-shell">conda create -n d2lbook -c conda-forge python=3.8 sphinx pandoc librsvg
conda activate d2lbook
git clone https://github.com/d2l-ai/d2l-book.git
pip install ./d2l-book
</code></pre>
<p>如果需要编译为PDF需要安装一个LaTeX发行版（如TexLive或MikTeX），<code>librsvg</code>用于将SVG转换为PDF文件。</p>
<h3 id="编写编译配置文件"><a class="header" href="#编写编译配置文件">编写编译配置文件</a></h3>
<pre><code class="language-ini">[build]
index = index                        # 默认首页index.md
notebooks = *.md source/*.md         # 需要将markdown文件放在notebooks类别才会输出内容
exclusions = source/get_started.md   # 排除文件
non-notebooks = 
eval_notebook = False                # 是否执行代码块中的代码
tabs = mxnet, pytorch, tensorflow    # 多标签内容
</code></pre>
<h3 id="编写文档"><a class="header" href="#编写文档">编写文档</a></h3>
<p>和Sphinx的首页文件类似，在首页文件（<code>index.md</code>）中添加目录：</p>
<pre><code class="language-markdown">````toc
source/get_started
source/reference
````
</code></pre>
<p>编写正文：</p>
<p>使用<code>:begin_tab:</code>和<code>:end_tab:</code>来标记标签页，以生成多标签页面。</p>
<pre><code class="language-markdown">:begin_tab:`mxnet`
接下来，我们实例化`mxnet`类并访问其模型参数。
:end_tab:
</code></pre>
<p>在代码块中，使用<code>#@tab tabname</code>来标记相应标签（默认为配置文件中声明的第一个标签）。</p>
<pre><code class="language-markdown">```python
#@tab pytorch
import torch
from torch import nn
import torch.nn.functional as F
```
</code></pre>
<h3 id="编译"><a class="header" href="#编译">编译</a></h3>
<p>生成HTML文件：</p>
<pre><code class="language-shell">d2lbook build --tab all html  # 需要执行两次，否则可能出现错误（找不到index.rst）
</code></pre>
<blockquote>
<p>编译前可能需要执行<code>d2lbook clear</code>（<code>rm -rf _build</code>），否则更改内容可能不会被重新编译。</p>
</blockquote>
<h3 id="修改主题资源"><a class="header" href="#修改主题资源">修改主题资源</a></h3>
<p>在线资源处理：主题中的部分字体图片资源需要在线下载，如果网络不佳或离线使用会使页面等待加载。因此，可以将这些资源预先下载到本地，并修改资源文件使用本地资源路径（文件或本地http URL）替换相应资源URL。</p>
<ul>
<li>
<p>字体：将<code>_build/html/_static/font.css</code>（来自安装的<code>mxtheme</code>主题）中以<code>//fonts.gstatic.com</code>开头的字体URL添加协议<code>https:</code>，使之能被正常访问；其次，将其中的字体URL提取出来并批量下载到本地，然后将<code>font.css</code>中的URL替换为本地路径。</p>
</li>
<li>
<p>图片：修改<code>d2l-book</code>的<code>sphinx_template</code>模块引用的在线资源文件为本地文件加快访问速度。</p>
<pre><code>https://raw.githubusercontent.com/choldgraf/sphinx-copybutton/master/sphinx_copybutton/_static/copy-button.svg -&gt; PREFIX/_static/copy-button.svg
</code></pre>
</li>
<li>
<p>服务：注释<code>d2l-book.sphinx</code>中生成的访问<code>google-analytics</code>的JavaScript代码；</p>
</li>
</ul>
<p><a href="https://book.d2l.ai/user/index.html">2. User Guide — D2L-Book: A Toolkit for Hands-on Books 0.1.17 documentation</a></p>
<h2 id="doxygen"><a class="header" href="#doxygen">doxygen</a></h2>
<h5 id="doxyfile"><a class="header" href="#doxyfile">Doxyfile</a></h5>
<pre><code class="language-makefile">DOXYFILE_ENCODING      = UTF-8
PROJECT_NAME           = &quot;Triangle Library&quot;
PROJECT_NUMBER         = 1.1
PROJECT_BRIEF          = &quot;Triangle Library for C++ Documentation Tutorial&quot;
OUTPUT_DIRECTORY       = &quot;build&quot; 
FULL_PATH_NAMES        = NO
INPUT                  = &quot;source/path&quot;
RECURSIVE              = YES
GENERATE_XML           = NO
GENERATE_LATEX         = NO
GENERATE_RTF           = NO 
GENERATE_MAN           = NO
</code></pre>
<h2 id="mdbook"><a class="header" href="#mdbook">mdBook</a></h2>
<h3 id="安装-2"><a class="header" href="#安装-2">安装</a></h3>
<p>下载<a href="https://github.com/rust-lang/mdBook/releases">mdbook</a>。</p>
<p>创建工作目录并初始化项目（作者、项目标题，信息位于工作目录下的<code>book.toml</code>文件中）。</p>
<pre><code class="language-shell">mdbook init book_path
       --theme       # 将主题文件复制到工作目录下以便修改默认配置(./theme/)
       --title TITLE # 未指定改选项则提示用户输入标题
       --ignore      # 生成默认的.gitignore文件(其中包含book目录)
</code></pre>
<p>项目的Markdown文档内容位于<code>src/</code>目录下（Markdown文件内不能超链接该目录外的文件，可通过符号链接将外部文档置于<code>src/</code>下），<code>src/SUMMARY.md</code>是所有文档的入口。</p>
<blockquote>
<p>修改<code>./theme/css/general.css</code>以自定以标题和正文以及代码块的字体字号。</p>
</blockquote>
<h4 id="安装插件"><a class="header" href="#安装插件">安装插件</a></h4>
<p>从<a href="https://github.com/rust-lang/mdBook/wiki/Third-party-plugins">插件仓库</a>下载发行版本，并释放到<code>mdbook</code>同一目录下（将该目录加入路径变量）。</p>
<ul>
<li>
<p>✨<a href="https://github.com/zjp-CN/mdbook-theme">mdbook-theme: A preprocessor and a backend to config themes for mdbook, especially creating a pagetoc on the right and setting full color themes from the offical ace editor. (github.com)</a></p>
</li>
<li>
<p><a href="https://github.com/slowsage/mdbook-pagetoc">slowsage/mdbook-pagetoc: Adds sidebar table of contents. (github.com)</a></p>
<p>下载安装侧边栏目录插件：</p>
<pre><code class="language-ini">[preprocessor.pagetoc]
[output.html]
additional-css = [&quot;theme/pagetoc.css&quot;]
additional-js  = [&quot;theme/pagetoc.js&quot;, &quot;theme/MathJax.js&quot;]
no-section-label = true
</code></pre>
</li>
<li>
<p><a href="https://github.com/lzanini/mdbook-katex">lzanini/mdbook-katex: A preprocessor for mdBook, rendering LaTeX equations to HTML at build time. (github.com)</a></p>
</li>
</ul>
<h3 id="项目配置"><a class="header" href="#项目配置">项目配置</a></h3>
<h5 id="预处理器"><a class="header" href="#预处理器">预处理器</a></h5>
<h5 id="渲染器"><a class="header" href="#渲染器">渲染器</a></h5>
<p>mdBook内置HTML渲染器和Markdown渲染器（调试用途），第三方渲染器包括<code>pdf</code>、<code>epub</code>和<code>man</code>等。</p>
<pre><code class="language-toml">[output.html]
theme = &quot;mytheme&quot;
mathjax-support = true  # 暂不支持$$标记的数学公式
# [output.pdf]
# mdbook-pdf 利用chrome提供的PDF生成功能生成PDF文件，无法控制文档格式。
</code></pre>
<h3 id="文档结构"><a class="header" href="#文档结构">文档结构</a></h3>
<pre><code class="language-markdown"># Summary
[prefix_chapter](./prefix.md)
# Part Title
- [chapter name](./chapter_name.md)
  - [sub_chapter_name](./some_path/sub_chapter_name.md)
--- &lt;!-- separater line --&gt;
[suffix_chapter](./suffix.md)
</code></pre>
<blockquote>
<p>以<code>-</code>开头的声明为编号章节，通过缩进区分大纲级别，可在编号章节前后添加无编号的序言/附录等内容（不可出现在编号章节之间，不可缩进嵌套）。</p>
<p>如果章节声明的超链接为空，则在目录中该章节无法点击。</p>
<p>使用<code>---</code>以在目录中添加分割线。</p>
</blockquote>
<h3 id="渲染文档"><a class="header" href="#渲染文档">渲染文档</a></h3>
<h5 id="使用mdbook内置服务"><a class="header" href="#使用mdbook内置服务">使用mdBook内置服务</a></h5>
<pre><code class="language-shell">mdbook serve --open   # 在工作目录下执行
</code></pre>
<p>项目目录下的源文件修改后，mdBook将会重新编译内容并刷新浏览页面。</p>
<h5 id="编译发布"><a class="header" href="#编译发布">编译发布</a></h5>
<pre><code class="language-shell">mdbook build 
       --dest-dir [book_path] # 生成HTML文件，输出到指定目录(默认为./book/)
       --open                 # 打开编译结果
</code></pre>
<blockquote>
<p>编译过程会将源文件目录下的除<code>.md</code>外的所有文件复制到输出目录下。</p>
</blockquote>
<p>编译输出内容可通过HTTP服务进行发布。</p>
<h2 id="mkdocs"><a class="header" href="#mkdocs">MkDocs</a></h2>
<h3 id="安装mkdocs"><a class="header" href="#安装mkdocs">安装MkDocs</a></h3>
<pre><code class="language-shell">conda create -n mkdocs mkdocs
</code></pre>
<h4 id="安装插件-1"><a class="header" href="#安装插件-1">安装插件</a></h4>
<pre><code class="language-shell">pip install mkdocs-section-index mkdocs-exclud
</code></pre>
<h3 id="创建项目"><a class="header" href="#创建项目">创建项目</a></h3>
<pre><code class="language-shell">mkdocs new [dir-name] # Create a new project.
</code></pre>
<h4 id="编译配置"><a class="header" href="#编译配置">编译配置</a></h4>
<pre><code class="language-yaml">theme:
  docs_dir: docs
  site_dir: site
  include_sidebar: true
  use_directory_urls: false  #*
</code></pre>
<blockquote>
<p><code>*</code>：问题：附件相对路径多了一层当前文档名，如<code>./docs/docs.assets/xyz.png</code>，正确形式应该为<code>./docs.assets/xyz.png</code>。</p>
</blockquote>
<h3 id="构建项目"><a class="header" href="#构建项目">构建项目</a></h3>
<pre><code class="language-shell">mkdocs serve          # Start the live-reloading docs server.
mkdocs build          # Build the documentation site.
</code></pre>
<h2 id="gitbook"><a class="header" href="#gitbook">gitbook</a></h2>
<p>https://app.gitbook.com/</p>
<h3 id="插入文档作为子页面"><a class="header" href="#插入文档作为子页面">插入文档作为子页面</a></h3>
<h3 id="与git仓库github或gitlab同步"><a class="header" href="#与git仓库github或gitlab同步">与git仓库(GitHub或GitLab)同步</a></h3>
<h2 id="参考资料"><a class="header" href="#参考资料">参考资料</a></h2>
<div class="footnote-definition" id="rst"><sup class="footnote-definition-label">1</sup>
<p><a href="https://docutils.sourceforge.io/docs/user/rst/quickstart.html">A ReStructuredText Primer (sourceforge.io)</a>
<sup class="footnote-reference"><a href="#sphinx">2</a></sup>:<a href="https://www.sphinx-doc.org/en/master/">Overview — Sphinx documentation (sphinx-doc.org)</a>
<sup class="footnote-reference"><a href="#sphinx-md">3</a></sup>:<a href="https://docs.readthedocs.io/en/stable/intro/getting-started-with-sphinx.html#using-markdown-with-sphinx">Getting Started with Sphinx — using-markdown-with-sphinx</a></p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../应用软件/网络服务软件.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../应用软件/文件处理软件.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../应用软件/网络服务软件.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../应用软件/文件处理软件.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/pagetoc.js"></script>
        <script type="text/javascript" src="../theme/MathJax.js"></script>
    </body>
</html>