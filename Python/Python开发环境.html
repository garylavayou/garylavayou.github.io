<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>å¼€å‘ç¯å¢ƒ - Learning Programming Book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The example book covers examples.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">
        <!-- MathJax -->
        <!-- <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
        <script async type="text/javascript" src="theme/MathJax.js"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../prefix.html">Prefix</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">ç¨‹åºè®¾è®¡è¯­è¨€</li><li class="chapter-item expanded "><a href="../Python/Pythonç¼–ç¨‹åŸºç¡€.html">Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Python/Pythonç¼–ç¨‹åŸºç¡€.html">ç¼–ç¨‹åŸºç¡€</a></li><li class="chapter-item expanded "><a href="../Python/Pythonå¼€å‘ç¯å¢ƒ.html" class="active">å¼€å‘ç¯å¢ƒ</a></li><li class="chapter-item expanded "><a href="../Python/Pythonæ•°æ®ç±»å‹.html">æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="../Python/Pythonè¾“å…¥è¾“å‡º.html">è¾“å…¥è¾“å‡º</a></li><li class="chapter-item expanded "><a href="../Python/Pythonç¼–ç¨‹åº”ç”¨.html">ç¼–ç¨‹åº”ç”¨</a></li><li class="chapter-item expanded "><a href="../Python/Pythonæ•°å€¼è®¡ç®—.html">æ•°å€¼è®¡ç®—</a></li><li class="chapter-item expanded "><a href="../Python/Pythonç³»ç»Ÿç¼–ç¨‹.html">ç³»ç»Ÿç¼–ç¨‹</a></li><li class="chapter-item expanded "><a href="../Python/Pythoné«˜çº§ç¼–ç¨‹.html">é«˜çº§ç¼–ç¨‹</a></li></ol></li><li class="chapter-item expanded "><a href="../Java/JAVAç¼–ç¨‹åŸºç¡€.html">Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Java/JAVAç¼–ç¨‹åŸºç¡€.html">ç¼–ç¨‹åŸºç¡€</a></li><li class="chapter-item expanded "><a href="../Java/Javaå¼€å‘ç¯å¢ƒ.html">å¼€å‘ç¯å¢ƒ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Java/Maven POM.html">Maven é…ç½®</a></li></ol></li><li class="chapter-item expanded "><a href="../Java/JAVAæ•°æ®ç±»å‹.html">æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="../Java/JAVAè¾“å…¥è¾“å‡º.html">è¾“å…¥è¾“å‡º</a></li><li class="chapter-item expanded "><a href="../Java/JAVAç³»ç»Ÿç¼–ç¨‹.html">ç³»ç»Ÿç¼–ç¨‹</a></li><li class="chapter-item expanded "><a href="../Java/Scala.html">Scala</a></li><li class="chapter-item expanded "><a href="../Java/ScalaFrameworks.html">Scala æ¡†æ¶</a></li></ol></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharpç¼–ç¨‹åŸºç¡€.html">C#/.NET</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CSharp.NET/CSharpç¼–ç¨‹åŸºç¡€.html">ç¼–ç¨‹åŸºç¡€</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharpè¾“å…¥è¾“å‡º.html">è¾“å…¥è¾“å‡º</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharpæ•°æ®å®¹å™¨.html">æ•°æ®å®¹å™¨</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/CSharpæ•°å€¼è®¡ç®—.html">æ•°å€¼è®¡ç®—</a></li><li class="chapter-item expanded "><a href="../CSharp.NET/dotnetå¼€å‘.html">.NET å¼€å‘</a></li></ol></li><li class="chapter-item expanded "><a href="../CC++/Modern C++.html">C and C++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CC++/Modern C++.html">Modern C++</a></li><li class="chapter-item expanded "><a href="../CC++/C++å¼€å‘ç¯å¢ƒ.html">å¼€å‘ç¯å¢ƒ</a></li><li class="chapter-item expanded "><a href="../CC++/C++å®¹å™¨.html">æ•°æ®å®¹å™¨</a></li><li class="chapter-item expanded "><a href="../CC++/è¾“å…¥è¾“å‡º.html">è¾“å…¥è¾“å‡º</a></li><li class="chapter-item expanded "><a href="../CC++/æ ‡å‡†å‡½æ•°åº“.html">æ ‡å‡†åº“</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../CC++/æ•°å­¦å‡½æ•°.html">æ•°å­¦å‡½æ•°</a></li></ol></li></ol></li><li class="chapter-item expanded "><div>Webå¼€å‘</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../JavaScript/JavaScript.html">JavaScript</a></li><li class="chapter-item expanded "><a href="../JavaScript/TypeScript.html">TypeScript</a></li><li class="chapter-item expanded "><a href="../JavaScript/JSå¼€å‘ç¯å¢ƒ.html">å¼€å‘ç¯å¢ƒ</a></li></ol></li><li class="chapter-item expanded "><div>å¼€å‘å·¥å…·</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../å¼€å‘ç¯å¢ƒ/git.html">Git</a></li><li class="chapter-item expanded "><a href="../ç¬”è®°/æ­£åˆ™è¡¨è¾¾å¼.html">æ­£åˆ™è¡¨è¾¾å¼</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">æ“ä½œç³»ç»Ÿ</li><li class="chapter-item expanded "><a href="../Linux/Linuxé…ç½®å’Œç®¡ç†.html">Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Linux/Linuxé…ç½®å’Œç®¡ç†.html">é…ç½®ç®¡ç†</a></li><li class="chapter-item expanded "><a href="../Linux/Linux-Shell.html">Shell Script</a></li><li class="chapter-item expanded "><a href="../Linux/Linuxå‘è¡Œç‰ˆ.html">Linux å‘è¡Œç‰ˆ</a></li><li class="chapter-item expanded "><a href="../Linux/æ“ä½œç³»ç»ŸåŸç†.html">æ“ä½œç³»ç»ŸåŸç†</a></li></ol></li><li class="chapter-item expanded "><a href="../Windows/Windowsé…ç½®ç®¡ç†.html">Windows</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Windows/Windowsé…ç½®ç®¡ç†.html">é…ç½®ç®¡ç†</a></li><li class="chapter-item expanded "><a href="../Windows/Windows Shell.html">Shell</a></li><li class="chapter-item expanded "><a href="../Windows/Windows Applications.html">åº”ç”¨è½¯ä»¶</a></li></ol></li><li class="chapter-item expanded "><div>åº”ç”¨è½¯ä»¶</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/ç¨‹åºå¼€å‘è½¯ä»¶.html">ç¨‹åºå¼€å‘</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/æœåŠ¡å™¨ç®¡ç†è½¯ä»¶.html">æœåŠ¡å™¨ç®¡ç†</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/ç½‘ç»œè®¿é—®è½¯ä»¶.html">ç½‘ç»œè®¿é—®</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/ç½‘ç»œæœåŠ¡è½¯ä»¶.html">ç½‘ç»œæœåŠ¡</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/æ–‡æ¡£ç”Ÿæˆè½¯ä»¶.html">æ–‡æ¡£ç”Ÿæˆ</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/æ–‡ä»¶å¤„ç†è½¯ä»¶.html">æ–‡ä»¶å¤„ç†</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/åä½œåŠå…¬è½¯ä»¶.html">åä½œåŠå…¬</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/çŸ¥è¯†ç®¡ç†è½¯ä»¶.html">çŸ¥è¯†ç®¡ç†</a></li><li class="chapter-item expanded "><a href="../åº”ç”¨è½¯ä»¶/å¤šåª’ä½“ç¼–è¾‘è½¯ä»¶.html">å¤šåª’ä½“ç¼–è¾‘</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">æœºå™¨å­¦ä¹ </li><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ å®è·µ.html">æœºå™¨å­¦ä¹ å®è·µ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /ScikitLearn.html">scikit-learn</a></li><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /TensorFlow.html">TensorFlow</a></li><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /Pytorch.html">Pytorch</a></li><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /å›¾ç¥ç»ç½‘ç»œ.html">å›¾ç¥ç»ç½‘ç»œ</a></li></ol></li><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸç†ä¸ç®—æ³•.html">åŸç†ä¸ç®—æ³•</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æœºå™¨å­¦ä¹ /ç»Ÿè®¡å­¦ä¹ ç®—æ³•.html">ç»Ÿè®¡å­¦ä¹ ç®—æ³•</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">æ•°æ®åº“</li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/SQLè¯­æ³•.html">SQL</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æ•°æ®åº“/SQL DDL.html">SQL DDL</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/SQL DML.html">SQL DML</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/SQLæ•°æ®ç±»å‹.html">æ•°æ®ç±»å‹</a></li></ol></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/MySQL.html">MySQL</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/PostgreSQL.html">PostgreSQL</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/HiveSQL.html">Hive SQL</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/Elasticsearch.html">Elasticsearch</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æ•°æ®åº“/Elastic Datasource.html">æ•°æ®æº</a></li></ol></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/Mongodb.html">Mongodb</a></li><li class="chapter-item expanded "><a href="../æ•°æ®åº“/GraphDatabase.html">å›¾æ•°æ®åº“</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">æœåŠ¡å’Œå¤§æ•°æ®å¹³å°</li><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/åˆ†å¸ƒå¼å¤§æ•°æ®å¤„ç†.html">åˆ†å¸ƒå¼å¤§æ•°æ®å¤„ç†</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/CDH6å¤§æ•°æ®é›†ç¾¤ç¦»çº¿å®‰è£….html">CDH6 å®‰è£…æ•™ç¨‹</a></li><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/Spark Python API.html">Pyspark</a></li><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/æµæ•°æ®å¤„ç†.html">æµæ•°æ®å¤„ç†</a></li></ol></li><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/å®¹å™¨ç¼–æ’.html">å®¹å™¨ç¼–æ’</a></li><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/è™šæ‹ŸåŒ–.html">è™šæ‹ŸåŒ–</a></li><li class="chapter-item expanded "><div>ä»»åŠ¡ç¼–æ’</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æœåŠ¡å™¨/Airflow.html">Airflow</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">å…¶ä»–</li><li class="chapter-item expanded "><div>æ•°æ®æ ‡è®°è¯­è¨€</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../æ•°æ®äº¤æ¢è¯­è¨€/JSON and YAML.html">JSON and YAML</a></li><li class="chapter-item expanded "><a href="../æ•°æ®äº¤æ¢è¯­è¨€/XML.html">XML</a></li><li class="chapter-item expanded "><a href="../æ•°æ®äº¤æ¢è¯­è¨€/HTML.html">HTML</a></li></ol></li><li class="chapter-item expanded "><div>ç½‘ç»œåè®®</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Protocols/http.html">HTTP</a></li><li class="chapter-item expanded "><a href="../Protocols/DNS.html">DNS</a></li><li class="chapter-item expanded "><a href="../Protocols/ç«¯å£åˆ†é….html">ç«¯å£åˆ†é…</a></li><li class="chapter-item expanded "><a href="../Protocols/IP protocol numbers.html">IP æ‰¿è½½åè®®</a></li><li class="chapter-item expanded "><a href="../Protocols/RPC.html">RPC</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learning Programming Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="pythonå¼€å‘ç¯å¢ƒé…ç½®"><a class="header" href="#pythonå¼€å‘ç¯å¢ƒé…ç½®">Pythonå¼€å‘ç¯å¢ƒé…ç½®</a></h1>
<h2 id="pythonç¯å¢ƒ"><a class="header" href="#pythonç¯å¢ƒ">Pythonç¯å¢ƒ</a></h2>
<h3 id="ç³»ç»Ÿé›†æˆpythonç¯å¢ƒ"><a class="header" href="#ç³»ç»Ÿé›†æˆpythonç¯å¢ƒ">ç³»ç»Ÿé›†æˆPythonç¯å¢ƒ</a></h3>
<p>ä»¥Ubuntuä¸ºä¾‹ï¼Œç³»ç»Ÿè‡ªå¸¦Python 3ï¼Œç”¨äºæ”¯æŒç›¸å…³ç³»ç»Ÿç»„ä»¶å·¥ä½œã€‚å¦‚æœæŸäº›è½¯ä»¶çš„è¿è¡Œéœ€è¦ä¾èµ–Pythonè½¯ä»¶åŒ…è€Œç³»ç»Ÿå¹¶æœªé¢„è£…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è½¯ä»¶æºç®¡ç†å·¥å…·ï¼ˆ<code>apt</code>ï¼‰å®‰è£…ã€‚</p>
<blockquote>
<p>ä½¿ç”¨ç›¸å…³pythonå‘½ä»¤æ—¶éœ€è¦æ³¨æ„ï¼šç³»ç»Ÿè‡ªå¸¦çš„<code>python3/pip3</code>å¹¶æ²¡æœ‰åˆ›å»ºç¬¦å·é“¾æ¥<code>python/pip</code>ï¼Œä»¥ä¾¿å¯ä»¥åŒæ—¶å®‰è£…Python 2ã€‚</p>
</blockquote>
<pre><code class="language-shell">sudo apt install {python-package_name|python3-package_name}
sudo apt install python-is-python3  # è®¾ç½®é»˜è®¤ç‰ˆæœ¬ä¸ºPython3
</code></pre>
<p>å¦‚æœè½¯ä»¶æºä¸­æ‰¾ä¸åˆ°æ‰€éœ€è½¯ä»¶åŒ…ï¼Œåˆ™å¯ä»¥é€šè¿‡<code>pip</code>å·¥å…·ä»Pythonçš„è½¯ä»¶ä»“åº“ä¸­ä¸‹è½½è½¯ä»¶åŒ…ã€‚ç³»ç»Ÿçš„Pythonå‘è¡Œç‰ˆé»˜è®¤æœªå®‰è£…å®‰è£…<code>pip</code>ï¼Œéœ€æ‰‹åŠ¨å®‰è£…ï¼š</p>
<pre><code class="language-shell">sudo apt install {python-pip|python3-pip} # Python package installer
</code></pre>
<p><code>python3-dev</code>ï¼šPythonè½¯ä»¶å¼€å‘ä¾èµ–ç¯å¢ƒï¼ˆ<em>header files and a static library for Python (default).</em>ï¼‰ï¼Œåœ¨Fedora/CentOSä¸­å‘½åä¸º<code>python3-devel</code>ã€‚</p>
<h5 id="æŸ¥æ‰¾è½¯ä»¶åŒ…"><a class="header" href="#æŸ¥æ‰¾è½¯ä»¶åŒ…">æŸ¥æ‰¾è½¯ä»¶åŒ…</a></h5>
<pre><code class="language-shell">pip list	          # list installed packages
pip show &lt;package&gt;  # show information about installed packages
</code></pre>
<p>ä½¿ç”¨<code>pip</code>(<code>pip3</code>)å®‰è£…å’Œç§»é™¤è½¯ä»¶åŒ…ï¼š</p>
<pre><code class="language-shell">pip install &lt;pkgs&gt; \
    --user                                 # ä»…ä¸ºå½“å‰ç”¨æˆ·å®‰è£…ï¼Œé»˜è®¤ä¸ºç³»ç»ŸèŒƒå›´å®‰è£…
    -r requirements.txt \                  # æŒ‡å®šå®‰è£…åŒ…å£°æ˜æ–‡ä»¶
    -i https://pypi.doubanio.com/simple/ \ # å¼ºåˆ¶ä½¿ç”¨é•œåƒç«™ç‚¹
    --trusted-host 172.28.76.237           # å¦‚æœä½¿ç”¨è‡ªå»ºçš„ä»£ç†ç«™ç‚¹ï¼Œæ·»åŠ æ­¤é€‰é¡¹
pip uninstall -r &lt;requirements_file&gt;
pip cache remove &lt;pattern&gt;|purge
</code></pre>
<blockquote>
<p>ä½¿ç”¨<code>sudo</code>åœ¨ç³»ç»ŸèŒƒå›´å®‰è£…ã€‚</p>
<p>Ubuntuç­‰Linuxå‘è¡Œç‰ˆå·²ç»å†…ç½®è®¸å¤špythonæ¨¡å—ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨è½¯ä»¶æºç®¡ç†å·¥å…·è€Œé<code>pip</code>è¿›è¡Œç³»ç»ŸèŒƒå›´çš„Pythonè½¯ä»¶åŒ…æ›´æ–°ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ç³»ç»ŸåŠŸèƒ½å‡ºé”™ã€‚ä»…ä½¿ç”¨<code>pip</code>æ›´æ–°æ‰‹åŠ¨å®‰è£…çš„è½¯ä»¶åŒ…ã€‚å¦‚æœä¸å°å¿ƒä½¿ç”¨<code>pip</code>æ›´æ–°äº†<code>pip</code>ï¼Œå¯ä»¥å¸è½½æ›´æ–°åçš„ç‰ˆæœ¬å¹¶ä½¿ç”¨è½¯ä»¶æºç®¡ç†å·¥å…·é‡è£…ã€‚</p>
<pre><code class="language-shell">sudo python3 -m pip uninstall pip
sudo apt install python3-pip --reinstall
</code></pre>
<p>å¦‚æœéœ€è¦åˆ›å»ºå¼€å‘ç¯å¢ƒï¼Œä½¿ç”¨è™šæ‹ŸPythonç¯å¢ƒï¼ˆ<a href="#Virtualenv">Virtualenv</a>ï¼‰</p>
</blockquote>
<h5 id="è½¯ä»¶æ›´æ–°"><a class="header" href="#è½¯ä»¶æ›´æ–°">è½¯ä»¶æ›´æ–°</a></h5>
<pre><code class="language-shell">pip list --outdated
pip install --upgrade package_name # å®‰è£…å¹¶æ›´æ–°ä¾èµ–åŒ…ï¼ˆé»˜è®¤ä¸æ›´æ–°ï¼‰
pip-review  # pip install pip-review
# pip install pipupgrade
</code></pre>
<blockquote>
<ol>
<li>
<p><a href="https://github.com/achillesrasquinha/pipupgrade">achillesrasquinha/pipupgrade: ğŸ—½ Like yarn outdated/upgrade, but for pip. Upgrade all your pip packages and automate your Python Dependency Management. (github.com)</a></p>
</li>
<li>
<p><a href="https://github.com/jgonggrijp/pip-review">jgonggrijp/pip-review: A tool to keep track of your Python package updates. (github.com)</a></p>
</li>
</ol>
</blockquote>
<p>ä½¿ç”¨è¾ƒè¿‘çš„PyPié•œåƒç«™ç‚¹å¯ä»¥åŠ é€Ÿè½¯ä»¶åŒ…ä¸‹è½½ã€‚</p>
<h5 id="ç¦»çº¿å®‰è£…"><a class="header" href="#ç¦»çº¿å®‰è£…">ç¦»çº¿å®‰è£…</a></h5>
<p>ä¸‹è½½ï¼ˆä¸å®‰è£…ï¼‰å®‰è£…åŒ…ï¼Œé»˜è®¤åŒæ—¶ä¸‹è½½ä¾èµ–åŒ…ã€‚</p>
<pre><code class="language-shell">pip download [--python-version 3.7.4] package_name[==version]
</code></pre>
<blockquote>
<p><code>-d,--dest &lt;dir&gt;</code>: ä¸‹è½½ç›®æ ‡æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼‰ã€‚</p>
<p>æŒ‡å®š<code>--python-version</code>æ—¶ï¼Œå¿…é¡»åŒæ—¶æŒ‡å®š<code>--no-deps</code>æˆ–<code>--only-binary=:all:</code>ã€‚</p>
</blockquote>
<p>å®‰è£…ç¦»çº¿åŒ…</p>
<pre><code class="language-shell">pip install --no-index --find-links=/local_path package_name
</code></pre>
<blockquote>
<p><code>--find-links</code>ï¼šå¦‚æœæŒ‡å®šæœ¬åœ°è·¯å¾„æˆ–<code>file://url</code>ï¼Œåˆ™ä¼˜å…ˆåœ¨æœ¬åœ°ç›®å½•ä¸­å¯»æ‰¾å®‰è£…æ–‡ä»¶ã€‚</p>
<p><code>--no-index</code>ï¼šä¸ä½¿ç”¨åœ¨çº¿ä»“åº“æœç´¢ä¾èµ–åŒ…ï¼›</p>
</blockquote>
<h3 id="anacondaminiconda"><a class="header" href="#anacondaminiconda">Anaconda/Miniconda</a></h3>
<p>Anacondaå‘è¡Œç‰ˆæ‰“åŒ…äº†Pythonå¸¸ç”¨çš„è½¯ä»¶åŒ…ï¼Œå¯ä»¥ä»<a href="https://repo.anaconda.com/archive/Anaconda3-2019.07-Linux-x86_64.sh">å®˜ç½‘</a>æˆ–<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.3.1-Linux-x86_64.sh">é•œåƒ</a>ç«™ç‚¹ä¸‹è½½å®‰è£…åŒ…ã€‚<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh">Miniconda</a>æ˜¯ç²¾ç®€å‘è¡Œç‰ˆï¼Œä»…åŒ…å«pythonè¯­è¨€ç¯å¢ƒå’Œcondaå·¥å…·ï¼Œå…¶ä»–è½¯ä»¶åŒ…å‡éœ€è¦åœ¨çº¿ä¸‹è½½ã€‚</p>
<blockquote>
<p>Anaconda/Minicondaå¯ä»¥é…ç½®è‡ªå®šä¹‰çš„pythonç¯å¢ƒå±è”½ç³»ç»Ÿçš„Pythonï¼Œå¯ä»¥ä»»æ„ä¿®æ”¹è¯¥ç¯å¢ƒè€Œä¸ä¼šå¯¹ç³»ç»Ÿäº§ç”Ÿå½±å“ã€‚</p>
<p>åœ¨<code>Linux aarch64</code>å¹³å°ä¸Šï¼Œ<a href="https://docs.conda.io/en/master/miniconda.html">å®˜æ–¹æä¾›çš„å®‰è£…åŒ…</a>å¯èƒ½å®‰è£…å¤±è´¥ï¼Œå¯å°è¯•ä½¿ç”¨<a href="https://github.com/conda-forge/miniforge">conda-forge/miniforge: A conda-forge distribution. (github.com)</a>ã€‚</p>
<ul>
<li><em><code>version 'GLIBC_2.25' not found</code></em></li>
</ul>
</blockquote>
<blockquote>
<p>AnacondaåŸºç¡€ç¯å¢ƒçš„Pythonç‰ˆæœ¬å‚è€ƒå‘è¡Œæ³¨è®°ï¼šhttps://docs.anaconda.com/anaconda/reference/release-notes/ã€‚</p>
</blockquote>
<h4 id="å®‰è£…condaè¿è¡Œç¯å¢ƒ"><a class="header" href="#å®‰è£…condaè¿è¡Œç¯å¢ƒ">å®‰è£…condaè¿è¡Œç¯å¢ƒ</a></h4>
<pre><code class="language-shell">bash conda_installer.sh -b -f -p $INSTALL_PATH  # é™é»˜å®‰è£…å¹¶æŒ‡å®šå®‰è£…è·¯å¾„
# -uæ›´æ–°å·²æœ‰å®‰è£…ï¼›
</code></pre>
<p>é™é»˜å®‰è£…æ¨¡å¼ä¸ä¼šæ‰§è¡Œåˆå§‹åŒ–ä¿®æ”¹è·¯å¾„é…ç½®ã€‚å¦‚æœå®‰è£…æœŸé—´æœªæ‰§è¡Œåˆå§‹åŒ–ï¼Œåˆ™Shellæ— æ³•ç›´æ¥è¿è¡Œ<code>conda</code>ï¼ˆä¸åœ¨è·¯å¾„ä¸­ï¼‰ã€‚</p>
<pre><code class="language-python">eval &quot;$($CONDAROOT/bin/conda shell.bash hook)&quot;   # æ¿€æ´»é»˜è®¤ç¯å¢ƒ
conda init   # [yes]
</code></pre>
<p>ä¹Ÿå¯ä»¥<a href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/rpm-debian.html">ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</a>ï¼Œæ–¹ä¾¿<a href="#%E5%8D%B8%E8%BD%BDAnaconda/Miniconda">å¸è½½</a>ã€‚</p>
<h5 id="é‡æ–°å®‰è£…anacondaminiconda"><a class="header" href="#é‡æ–°å®‰è£…anacondaminiconda">é‡æ–°å®‰è£…Anaconda/Miniconda</a></h5>
<p>å¦‚æœåŸºç¡€ç¯å¢ƒå› ä¸ºæ›´æ–°é—®é¢˜æŸåï¼ˆç½‘ç»œã€æ€æ¯’è½¯ä»¶æ‹¦æˆªï¼‰éœ€è¦é‡è£…ï¼Œè€Œä¸å¸Œæœ›é‡è£…å·²é…ç½®çš„<a href="#Conda%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83">è™šæ‹Ÿç¯å¢ƒ</a>ï¼Œå¯ä»¥å°†è™šæ‹Ÿç¯å¢ƒç›®å½•<code>envs</code>å¤‡ä»½ï¼Œåœ¨é‡è£…åŸºç¡€ç¯å¢ƒåè¿˜åŸã€‚</p>
<h5 id="å¸è½½anacondaminiconda"><a class="header" href="#å¸è½½anacondaminiconda">å¸è½½Anaconda/Miniconda</a></h5>
<pre><code class="language-shell">conda install anaconda-clean
anaconda-clean --yes  # backup all files/directories in ~/.anaconda_backup 
rm -rf $CONDA_HOME
</code></pre>
<p>æœ€åæ¸…ç†<code>~/.bashrc</code>ä¸­çš„<code>conda</code>åˆå§‹åŒ–ä»£ç ã€‚</p>
<h4 id="condaé…ç½®"><a class="header" href="#condaé…ç½®">condaé…ç½®</a></h4>
<p>ä½¿ç”¨å‘½ä»¤è¡Œä¿®æ”¹é…ç½®é¡¹ï¼Œ</p>
<pre><code class="language-shell">conda config --{system|env} SUB_COMMAND
</code></pre>
<p><code>conda</code>é…ç½®æ–‡ä»¶åŒ…æ‹¬ä¸‰ç±»ï¼š</p>
<ul>
<li><code>--system</code>ï¼šä¿®æ”¹ç³»ç»Ÿé…ç½®ä½äº<code>$CONDA_HOME/.condarc</code>ï¼›</li>
<li><code>--env</code>ï¼šä¿®æ”¹å½“å‰æ¿€æ´»ç¯å¢ƒçš„é…ç½®ï¼Œä½äº<code>$CONDA_HOME/envs/$ENV/.condarc</code>ï¼›</li>
<li>å¦‚æœæœªæŒ‡å®šä¸Šè¿°é€‰é¡¹ï¼Œåˆ™ä¿®æ”¹å½“å‰ç”¨æˆ·çš„é…ç½®ï¼Œä½äº<code>$HOME/.condarc</code>ã€‚</li>
</ul>
<p>ä¿®æ”¹é…ç½®ï¼š</p>
<pre><code class="language-shell">conda config --append KEY VALUE      # ä¸ºé…ç½®é¡¹KEYè¿½åŠ ä¸€ä¸ªå€¼
             --prepend/add KEY VALUE # ä¸ºé…ç½®é¡¹KEYå‰ç«¯æ’å…¥ä¸€ä¸ªå€¼
             --remove KEY VALUE      # ä»é…ç½®é¡¹KEYçš„å€¼åˆ—è¡¨ä¸­åˆ é™¤åŒ¹é…çš„VALUE
             --set KEY VALUE         # æ›´æ–°é…ç½®é¡¹çš„å€¼
             --remove-key KEY        # ç§»é™¤é…ç½®é¡¹
</code></pre>
<h5 id="åˆ—å‡ºå½“å‰çš„condaé…ç½®"><a class="header" href="#åˆ—å‡ºå½“å‰çš„condaé…ç½®">åˆ—å‡ºå½“å‰çš„condaé…ç½®</a></h5>
<pre><code class="language-shell">conda config --show [CONFIG]
conda config --describe [CONFIG]  # æ˜¾ç¤ºé…ç½®é¡¹çš„è¯´æ˜
</code></pre>
<h5 id="è‡ªåŠ¨æ¿€æ´»åŸºç¡€condaç¯å¢ƒ"><a class="header" href="#è‡ªåŠ¨æ¿€æ´»åŸºç¡€condaç¯å¢ƒ">è‡ªåŠ¨æ¿€æ´»åŸºç¡€condaç¯å¢ƒ</a></h5>
<p>æ˜¯å¦åœ¨shellå¯åŠ¨æ—¶å¯åŠ¨Condaç¯å¢ƒï¼š</p>
<pre><code class="language-shell">conda config --set auto_activate_base false  # =&gt; auto_activate_base: false
</code></pre>
<h4 id="ä½¿ç”¨condaè¿›è¡ŒåŒ…ç®¡ç†"><a class="header" href="#ä½¿ç”¨condaè¿›è¡ŒåŒ…ç®¡ç†">ä½¿ç”¨<code>conda</code>è¿›è¡ŒåŒ…ç®¡ç†</a></h4>
<pre><code class="language-shell">conda info	# infomation of conda installation (.condarc)
conda list [package_name] [-n envname]
conda search name --info
conda {update|upgrade} {--all | package_names}
conda [&lt;cmd&gt;] --help
</code></pre>
<p>Anaconda/Minicondaä½¿ç”¨<code>conda</code>ä½œä¸ºè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚æ›´æ–°<code>conda</code>å·¥å…·ï¼š</p>
<pre><code class="language-shell">conda update -n base -c defaults conda
</code></pre>
<blockquote>
<p>Anacondaå‘å¸ƒçš„Pythonç‰ˆæœ¬ä¸­ï¼Œæœºå™¨å­¦ä¹ åº“<code>sklearn</code>æ‰“åŒ…åœ¨<code>scikit-learn</code>ä¸­ã€‚</p>
</blockquote>
<p>å›ºå®šåŒ…çš„ç‰ˆæœ¬ï¼šåœ¨<code>conda-meta</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>pinned</code>çš„æ–‡ä»¶å¹¶åŠ å…¥ä¸å¸Œæœ›æ›´æ–°çš„åŒ…åä»¥åŠç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¯ä»¥ä½¿ç”¨<code>#</code>æ³¨é‡Šè¡Œï¼‰ã€‚</p>
<pre><code class="language-shell">numpy 1.7.*     # stay on the 1.7 series
scipy==0.14.2  # fix to 0.14.2
</code></pre>
<pre><code class="language-shell">conda update numpy --no-pin   # å¿½ç•¥pinnedæ–‡ä»¶ä¸­çš„å£°æ˜
</code></pre>
<blockquote>
<p>æ¯æ¬¡æ‰§è¡Œæ›´æ–°æ—¶ï¼Œcondaä¼šæ£€æŸ¥<code>pinned</code>æ–‡ä»¶ï¼Œå› æ­¤ä½¿ç”¨<code>--no-pin</code>å‡çº§çš„åŒ…ä¼šæ¢å¤åˆ°<code>pinned</code>æ–‡ä»¶ä¸­å£°æ˜çš„ç‰ˆæœ¬ã€‚</p>
</blockquote>
<h5 id="æ¸…ç†ç¼“å­˜"><a class="header" href="#æ¸…ç†ç¼“å­˜">æ¸…ç†ç¼“å­˜</a></h5>
<p>å½“è½¯ä»¶åŒ…å‡çº§åï¼Œæ—§ç‰ˆæœ¬çš„è½¯ä»¶åŒ…å¯èƒ½ä¸å†æœ‰ç”¨ï¼Œå› æ­¤å¯ä»¥ä»æœ¬åœ°ç¼“å­˜åˆ é™¤ã€‚</p>
<pre><code class="language-shell">conda clean \ # Remove unused packages and caches.
      --all \ # index cache, lock files, unused packages and tarballs
      -i,--index-cache  \ # æ¸…é™¤ç´¢å¼•ç¼“å­˜ï¼Œä¿è¯ç”¨çš„æ˜¯é•œåƒç«™æä¾›çš„ç´¢å¼•ã€‚
      -p,--packages     \ # Remove unused packages
      -t,--tarballs     \ # remove cached package tarballs
      -l,--logfiles
      -d,--dry-run
</code></pre>
<h5 id="å®‰è£…è½¯ä»¶åŒ…"><a class="header" href="#å®‰è£…è½¯ä»¶åŒ…">å®‰è£…è½¯ä»¶åŒ…</a></h5>
<pre><code class="language-shell">conda {remove|uninstall} package_names
conda install -c conda-forge vaex=4.0.0 # --dry-run
conda install package_names \
	--file requirements.txt \ # å®‰è£…æ–‡ä»¶ç»™å®šçš„åŒ…
	--freeze-installed \      # é¿å…å·²å®‰è£…åŒ…å‡çº§
	-n| --name ENVNAME \      # ç›®æ ‡ç¯å¢ƒåï¼ˆæœªæŒ‡å®šåˆ™ä¸ºå½“å‰ç¯å¢ƒï¼Œé»˜è®¤ä¸ºbaseï¼‰
	-p,--prefix ENVPATH \     # ç›®æ ‡ç¯å¢ƒçš„ç›®å½•
</code></pre>
<blockquote>
<p><code>conda</code>å°è¯•å®‰è£…æœ€æ–°çš„åŒ…ï¼Œä¸ºæ­¤å°†å‡çº§å…¶ä¾èµ–çš„å®‰è£…åŒ…ã€‚ä½¿ç”¨<code>--freeze-installed</code>é¿å…å·²å®‰è£…åŒ…è‡ªåŠ¨å‡çº§ã€‚</p>
</blockquote>
<p><strong>æŒ‡å®šä»“åº“å</strong>ï¼š<code>-c,--channel</code>æŒ‡å®šå®‰è£…è½¯ä»¶åŒ…ä¼˜å…ˆä½¿ç”¨çš„ä»“åº“ï¼›å¦‚æœæœªæŒ‡å®šè¯¥å‚æ•°æˆ–æŒ‡å®šä»“åº“ä¸åŒ…å«ç›¸åº”çš„è½¯ä»¶åŒ…ï¼Œ<code>conda</code>ä¼šæ£€æŸ¥<code>.condarc</code>ä¸­è®¾å®šçš„<a href="#conda%E8%BD%AF%E4%BB%B6%E6%BA%90"><code>channels</code>ä¸­åŒ…å«çš„å…¶ä»–ä»“åº“</a>ã€‚</p>
<p>è½¯ä»¶åŒ…å£°æ˜æ–‡ä»¶æ ¼å¼ï¼š</p>
<pre><code class="language-shell">channel::package_name=version=build_string # ä½¿ç”¨æŒ‡å®šä½¿ç”¨*è¿›è¡Œæ¨¡ç³ŠåŒ¹é…
</code></pre>
<blockquote>
<p>å£°æ˜<code>channel</code>ä»£æ›¿å½“å‰çš„é»˜è®¤é€šé“ï¼›</p>
</blockquote>
<p>å¸¸ç”¨å£°æ˜æ ¼å¼ï¼š</p>
<pre><code class="language-shell">pytorch             # å®‰è£…æœ€æ–°çš„å…¼å®¹ç‰ˆæœ¬
cudatoolkit&gt;=11.3   # é™åˆ¶æœ€ä½ç‰ˆæœ¬ ï¼ˆå‘½ä»¤è¡Œä½¿ç”¨æ—¶éœ€è¦ä½¿ç”¨&quot;&quot;å¯¹&gt;&lt;è½¬ä¹‰ï¼Œé¿å…è§£é‡Šä¸ºé‡å®šå‘ï¼‰
cudatoolkit=11.3.*  # ä»…æ¥å—å°ç‰ˆæœ¬æ›´æ–°ï¼ˆå¦‚æœåç»­æ— buildå£°æ˜å¯çœç•¥.*ï¼‰
cudatoolkit=11.3.1  # å®‰è£…å›ºå®šç‰ˆæœ¬
</code></pre>
<h6 id="å®‰è£…ç¦»çº¿åŒ…"><a class="header" href="#å®‰è£…ç¦»çº¿åŒ…">å®‰è£…ç¦»çº¿åŒ…</a></h6>
<pre><code class="language-shell">conda install --use-local   /path/XXX.tar.bz
</code></pre>
<p>åœ¨Anaconda/Minicondaçš„Pythonç¯å¢ƒä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨<code>pip</code>è¿›è¡Œè½¯ä»¶åŒ…ç®¡ç†ã€‚</p>
<p><em>ä½¿ç”¨condaä¸‹è½½ç¦»çº¿åŒ…</em>ï¼š<code>conda</code>åªèƒ½å°†è½¯ä»¶åŒ…åŠ è½½åˆ°æœ¬åœ°ä»“åº“ï¼ˆç¼“å­˜ï¼‰ä¸­ï¼Œè€Œæ— æ³•ä¸‹è½½åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ã€‚</p>
<blockquote>
<p><code>conda</code>æœ¬åœ°ä»“åº“ä¸­çš„åŒ…æ— æ³•ç”¨äº<code>pip</code>å®‰è£…ã€‚</p>
</blockquote>
<h6 id="å®‰è£…condaè½¯ä»¶æºä¸­æ²¡æœ‰çš„åŒ…"><a class="header" href="#å®‰è£…condaè½¯ä»¶æºä¸­æ²¡æœ‰çš„åŒ…">å®‰è£…Condaè½¯ä»¶æºä¸­æ²¡æœ‰çš„åŒ…</a></h6>
<pre><code class="language-shell">pip install --upgrade-strategy &quot;only-if-needed&quot; packname
</code></pre>
<blockquote>
<ul>
<li>åœ¨ä½¿ç”¨condaå®‰è£…å°½å¯èƒ½å¤šçš„åŒ…åï¼Œå†ä½¿ç”¨<code>pip</code>å®‰è£…é¢å¤–åŒ…ï¼›</li>
<li>åœ¨å•ç‹¬è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨<code>pip</code>(é¿å…ä½¿ç”¨rootç¯å¢ƒ)ï¼›ä½¿ç”¨<code>pip</code>åï¼ŒCondaæ— æ³•è¯†åˆ«ç›¸åº”çš„æ›´æ”¹ï¼›</li>
<li>å¦‚æœåç»­è¿˜éœ€è¦ä½¿ç”¨Condaè¿›è¡Œæ›´æ–°æˆ–å®‰è£…è€Œå¤–åŒ…ï¼Œåˆ™ä½¿ç”¨åŸºæœ¬ç¯å¢ƒå†é‡æ–°åˆ›å»ºä¸€ä¸ªç¯å¢ƒåå†ä½¿ç”¨<code>pip</code>ï¼›</li>
<li>ä½¿ç”¨<code>-r, --requirements</code>æŒ‡å®šéœ€è¦ä½¿ç”¨<code>pip</code>å®‰è£…çš„åŒ…ã€‚</li>
</ul>
</blockquote>
<p>https://www.anaconda.com/using-pip-in-a-conda-environment/</p>
<h3 id="è™šæ‹Ÿpythonç¯å¢ƒ"><a class="header" href="#è™šæ‹Ÿpythonç¯å¢ƒ">è™šæ‹ŸPythonç¯å¢ƒ</a></h3>
<h4 id="virtualenv"><a class="header" href="#virtualenv">virtualenv</a></h4>
<p>åœ¨æŒ‡å®šç›®å½•<code>ENV_DIR</code>åˆ›å»ºä¸€ä¸ªè™šæ‹ŸPythonç¯å¢ƒã€‚</p>
<pre><code class="language-shell">python3 -m venv ENV_DIR
</code></pre>
<blockquote>
<p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œé»˜è®¤åŒ…å«Pythonè§£é‡Šå™¨ï¼ˆä¸ç³»ç»Ÿä¸­Pythonè§£é‡Šç‰ˆæœ¬ç›¸åŒï¼‰ã€æ ‡å‡†åº“ç­‰ã€‚å¯ä»¥ä½¿ç”¨<code>pip</code>ä¸ºè™šæ‹Ÿç¯å¢ƒå®‰è£…é¢å¤–çš„å†…å®¹ã€‚</p>
<p>åœ¨Debian/Ubuntuç³»ç»Ÿä¸­éœ€è¦é¦–å…ˆå®‰è£…</p>
<pre><code class="language-shell">apt-get install python3-venv
</code></pre>
</blockquote>
<p>Windowsæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</p>
<pre><code class="language-shell">.\myenv\Scripts\activate.bat  # windows cmd
.\myenv\Scripts\Activate.ps1  # windows powershell
</code></pre>
<p>Linuxæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</p>
<pre><code class="language-shell">source myenv/bin/activate   # on linux
which python  # æŸ¥çœ‹pythonè·¯å¾„
</code></pre>
<h5 id="pipenv"><a class="header" href="#pipenv">pipenv</a></h5>
<p><a href="https://realpython.com/pipenv-guide/">Pipenv: A Guide to the New Python Packaging Tool â€“ Real Python</a></p>
<p>consolidate the <code>pip</code> &amp; <code>virtualenv</code> into a single interface. </p>
<h4 id="condaè™šæ‹Ÿç¯å¢ƒ"><a class="header" href="#condaè™šæ‹Ÿç¯å¢ƒ">Condaè™šæ‹Ÿç¯å¢ƒ</a></h4>
<blockquote>
<p><em>It makes your project more self-contained as everything, including the required software, is contained in a single project directory.</em></p>
</blockquote>
<p>åŸºäº<code>conda</code>åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…æŒ‡å®šçš„è½¯ä»¶åŒ…ï¼ˆå’Œå®‰è£…ä¸€æ ·ä½¿ç”¨<code>--file requirements.txt</code>æŒ‡å®šå®‰è£…åŒ…ï¼‰ã€‚Condaé»˜è®¤å°†è™šæ‹Ÿç¯å¢ƒç½®äº<code>envs</code>ç›®å½•ä¸‹ï¼Œå¹¶é€šè¿‡<code>--names/-n</code>é€‰é¡¹æŒ‡å®šè¦ä½¿ç”¨çš„ç¯å¢ƒåã€‚ä½¿ç”¨<code>--prefix</code>å¯å°†è™šæ‹Ÿç¯å¢ƒç½®äºä»»ä½•è·¯å¾„ä¸‹ï¼Œä½†è®¿é—®æ—¶ä¹Ÿéœ€è¦é€šè¿‡<code>--prefix</code>é€‰é¡¹æŒ‡å®šç›®å½•ã€‚</p>
<pre><code class="language-shell">conda create -n pydev37 python=3.7 &lt;pkgname=ver,...&gt; \ # python=3*
             --prefix ./envs ...          # æŒ‡å®šè™šæ‹Ÿç¯å¢ƒçš„å®‰è£…ç›®å½•
conda create --name myclone --clone myenv # å¤åˆ¶å·²æœ‰ç¯å¢ƒ
conda env remove --name myenv             # &lt;=&gt; conda remove -n env_name --all 
conda env list                            # &lt;=&gt; conda info --envs
</code></pre>
<blockquote>
<p><code>*</code>ï¼šå¦‚æœåˆ›å»ºç¯å¢ƒæ—¶æœªæŒ‡å®šPythonç‰ˆæœ¬ï¼Œå¯èƒ½å¯¼è‡´ä¾èµ–è§£æå¾ˆæ…¢ã€‚</p>
<p>æ”¯æŒåˆ›å»ºPython 2.xç¯å¢ƒã€‚</p>
<p>è™šæ‹Ÿç¯å¢ƒä¸­ä¸ä¼šç»´æŠ¤ç‹¬ç«‹çš„è½¯ä»¶åŒ…ï¼Œè€Œæ˜¯ç”±Condaç»´æŠ¤ä¸€ä¸ªç»Ÿä¸€çš„åŒ…ç›®å½•ï¼ˆ<code>pkgs</code>ï¼‰ã€‚é€šè¿‡<code>conda-meta</code>ç›®å½•ä¸­çš„ä¿¡æ¯ï¼Œå¯ä»¥å®šä½åˆ°å…¶å¼•ç”¨çš„åŒ…è·¯å¾„ï¼ŒåŒ…çš„æ¡£æ¡ˆæ–‡ä»¶è·¯å¾„ä»¥åŠè½¯ä»¶æºè·¯å¾„ã€‚</p>
<p>å¤åˆ¶ç¯å¢ƒå¯ç›´æ¥å°†è™šæ‹Ÿç¯å¢ƒç›®å½•å¤åˆ¶åˆ°<code>envs</code>ç›®å½•ä¸‹ï¼ˆå¦‚æœè™šæ‹Ÿç¯å¢ƒè·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦ä½¿ç”¨<code>conda-pack</code>è¿›è¡Œ<a href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2">æ‰“åŒ…å¹¶åœ¨ç›®æ ‡ç³»ç»Ÿä¸­è§£å‹å¹¶ä¿®å¤è·¯å¾„</a>ï¼‰</p>
</blockquote>
<p>è™šæ‹Ÿç¯å¢ƒé…ç½®é»˜è®¤ç»§æ‰¿ç³»ç»Ÿå’Œç”¨æˆ·é…ç½®ï¼Œå¯ä»¥<a href="#conda%E9%85%8D%E7%BD%AE">ä¸ºè™šæ‹Ÿç¯å¢ƒæ·»åŠ è®¾ç½®è¦†ç›–é»˜è®¤é…ç½®</a>ã€‚</p>
<p>æŸ¥çœ‹condaç¯å¢ƒæ›´æ”¹å†å²ï¼š</p>
<pre><code class="language-shell">conda list --revision[s]
conda install --revision=REVNUM   # æ¢å¤å†å²ç‰ˆæœ¬
</code></pre>
<p>è™šæ‹Ÿç¯å¢ƒä¿¡æ¯æ–‡ä»¶ï¼š</p>
<pre><code class="language-shell">conda env export [--from-history] &gt; environment.yml
</code></pre>
<p>æ›´æ–°ç¯å¢ƒ</p>
<pre><code class="language-shell">conda env update --prefix | --name --file environment.yml --prune
</code></pre>
<p>å¤åˆ¶ç¯å¢ƒ</p>
<pre><code class="language-shell">conda env create -f environment.yml   #ä»é…ç½®æ–‡ä»¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
#=========================================
conda list --explicit &gt; spec-file.txt
conda create --name myenv --file spec-file.txt
conda install --name myenv --file spec-file.txt
</code></pre>
<h5 id="ä½¿ç”¨condaè™šæ‹Ÿç¯å¢ƒ"><a class="header" href="#ä½¿ç”¨condaè™šæ‹Ÿç¯å¢ƒ">ä½¿ç”¨condaè™šæ‹Ÿç¯å¢ƒ</a></h5>
<pre><code class="language-shell">conda activate env_name
conda deactivate
conda config --set env_prompt '({name})'
</code></pre>
<blockquote>
<p>åœ¨è„šæœ¬ä¸­å°è¯•æ¿€æ´»å‘½ä»¤æ—¶ä¼šå‡ºç°condaç¯å¢ƒæœªåˆå§‹åŒ–çš„é”™è¯¯ï¼Œå¯åœ¨è„šæœ¬ä¸­æ‰§è¡Œ<code>source ~/.bashrc</code>æˆ–å°†<code>~/.bashrc</code>ä¸­çš„condaåˆå§‹åŒ–ä»£ç å¤åˆ¶åˆ°ç”¨æˆ·è„šæœ¬ä¸­ã€‚</p>
</blockquote>
<p><a href="https://stackoverflow.com/questions/55507519/python-activate-conda-env-through-shell-script">Python - Activate conda env through shell script - Stack Overflow</a></p>
<p><a href="https://github.com/conda/conda/issues/7980">Can't execute <code>conda activate</code> from bash script Â· Issue #7980 Â· conda/conda (github.com)</a></p>
<h4 id="è™šæ‹Ÿpythonç¯å¢ƒæŸå"><a class="header" href="#è™šæ‹Ÿpythonç¯å¢ƒæŸå">è™šæ‹ŸPythonç¯å¢ƒæŸå</a></h4>
<p><code>AttributeError: module 'brotli' has no attribute 'error'</code></p>
<p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨<code>conda remove</code>åˆ é™¤æŸåçš„ç¯å¢ƒï¼Œå¹¶åˆ é™¤æœ¬åœ°ç›®å½•ï¼›</p>
<h5 id="pipeenv"><a class="header" href="#pipeenv">Pipeenv</a></h5>
<h4 id="è™šæ‹Ÿç¯å¢ƒæ‰“åŒ…éƒ¨ç½²"><a class="header" href="#è™šæ‹Ÿç¯å¢ƒæ‰“åŒ…éƒ¨ç½²">è™šæ‹Ÿç¯å¢ƒæ‰“åŒ…éƒ¨ç½²</a></h4>
<p><code>conda-pack</code>å¯ä»¥å°†è™šæ‹ŸPythonç¯å¢ƒæ‰“åŒ…å¹¶éƒ¨ç½²åˆ°å…¶ä»–ä½ç½®ï¼ˆæ“ä½œç³»ç»Ÿç›¸åŒï¼‰ã€‚å¯åˆ›å»ºä¸€ä¸ªåŒ…å«<code>conda-pack</code>çš„è™šæ‹Ÿç¯å¢ƒä¸“é—¨ç”¨äºæ‰“åŒ…ã€‚</p>
<pre><code class="language-shell">conda create -n pack -c conda-forge &quot;conda-pack&gt;=0.7&quot;  # pip install conda-pack=0.7
</code></pre>
<blockquote>
<p><em><code>CondaPackError: Files managed by conda were found to have been deleted/overwritten...</code></em>ï¼š</p>
<ol>
<li>Pythonå‡çº§åˆ°3.10åï¼Œå…¶æ¨¡å—åº“ç›®å½•ä¸‹ä¼šåˆ›å»ºä¸€ä¸ª<code>python3.1-&gt;python3.10</code>çš„ç¬¦å·é“¾æ¥ï¼›è¿™ä¼š<a href="https://stackoverflow.com/questions/69992742/conda-pack-condapackerror-files-managed-by-conda-were">å¯¼è‡´æ—§ç‰ˆæœ¬çš„<code>conda-pack</code>æ— æ³•æ­£å¸¸å·¥ä½œ</a>ï¼Œéœ€è¦ä½¿ç”¨<code>conda-pack&gt;=0.7</code>ã€‚</li>
<li>å¦‚æœè™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨<code>pip</code>å®‰è£…äº†é¢å¤–åŒ…ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ä¸Šè¿°é”™è¯¯ã€‚å› æ­¤å¯å°†pipçš„å®‰è£…åŒ…å•ç‹¬ä¸‹è½½ï¼Œå†åœ¨ç›®æ ‡ç¯å¢ƒä¸­æ‰§è¡Œç¦»çº¿å®‰è£…ã€‚</li>
</ol>
</blockquote>
<p>ç„¶åå°†ç›®æ ‡ç¯å¢ƒæ‰“åŒ…ç¯å¢ƒä¸ºä¸€ä¸ªå‹ç¼©æ¡£æ¡ˆæ–‡ä»¶ï¼ˆ<code>tar.gz</code>ï¼‰ï¼š</p>
<pre><code class="language-shell">conda-pack --name my_env \
           --output out_name.tar.gz \ # æŒ‡å®šç¯å¢ƒå
           -d target_env_path \   #ç›®æ ‡ä¸»æœºä¸Šè™šæ‹Ÿç¯å¢ƒçš„è·¯å¾„
           --force
conda-pack -p /explicit/path/to/my_env  # æŒ‡å®šç¯å¢ƒè·¯å¾„
</code></pre>
<p>åœ¨ç›®æ ‡ä½ç½®è§£å‹æ–‡ä»¶ï¼Œå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆè¦æ±‚ç›®æ ‡ç¯å¢ƒå®‰è£…<code>conda</code>ï¼‰ï¼š</p>
<pre><code class="language-shell">tar -xzf my_env.tar.gz -C conda_path/envs/my_env
source my_env/bin/activate # æ¿€æ´»ç¯å¢ƒ add `my_env/bin` to your path
conda-unpack               # ä¿®å¤åº“çš„è·¯å¾„ï¼ˆå¯åœ¨æœªæ¿€æ´»ç¯å¢ƒæƒ…å†µä¸‹è¿è¡Œï¼ŒæŒ‡å®šè·¯å¾„ï¼‰ 
</code></pre>
<p><code>conda-unpack</code>æ˜¯<code>conda-pack</code>æ‰“åŒ…åˆ°è™šæ‹Ÿç¯å¢ƒä¸­çš„ç¨‹åºï¼ˆ<code>envname/bin</code>ç›®å½•ä¸‹ï¼‰ï¼Œåœ¨è§£å‹åä¿®å¤æŸäº›åº“çš„è·¯å¾„ã€‚==å¦‚æœæ‰“åŒ…æ—¶æŒ‡å®š<code>-d</code>é€‰é¡¹ï¼Œåˆ™ä¸å†æ‰“åŒ…<code>unpack</code>ç¨‹åº==ã€‚</p>
<p><a href="https://conda.github.io/conda-pack/">Conda-Pack â€” conda-pack 0.6.0 documentation</a>.</p>
<h3 id="arm64ç‰ˆæœ¬python"><a class="header" href="#arm64ç‰ˆæœ¬python">Arm64ç‰ˆæœ¬Python</a></h3>
<p>æ”¯æŒaarch64 (arm64)çš„Condaç¯å¢ƒï¼š</p>
<ul>
<li><a href="https://github.com/conda-forge/miniforge">conda-forge/miniforge: A conda-forge distribution. (github.com)</a></li>
<li>https://repo.anaconda.com/archive/Anaconda3-2021.04-Linux-aarch64.shell</li>
</ul>
<blockquote>
<p>éœ€è¦ä½¿ç”¨conda-forgeä½œä¸ºé»˜è®¤æºï¼ˆminiforgeçš„é»˜è®¤è®¾ç½®ï¼‰ï¼Œä¸”ä¸èƒ½ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆåŒæ­¥ä¸å®Œæ•´ï¼‰ã€‚</p>
</blockquote>
<h2 id="è½¯ä»¶æºé…ç½®"><a class="header" href="#è½¯ä»¶æºé…ç½®">è½¯ä»¶æºé…ç½®</a></h2>
<h3 id="pipè½¯ä»¶æº"><a class="header" href="#pipè½¯ä»¶æº">pipè½¯ä»¶æº</a></h3>
<p>é…ç½®è½¯ä»¶æºå’Œä¸‹è½½è®¾ç½®ï¼š</p>
<pre><code class="language-shell">pip config set global.timeout 6000
pip config set global.index-url https://pypi.doubanio.com/simple/
pip config set install.use-mirrors true
pip config set install.mirrors https://pypi.doubanio.com/simple/
</code></pre>
<p>è¯¥é…ç½®æ–‡ä»¶ä½äº<code>$HOME/.pip/pip.conf</code>ï¼ˆç³»ç»Ÿè‡ªå¸¦Pythonçš„é…ç½®æ–‡ä»¶ä½äº<code>$HOME/.config/pip/pip.conf</code>ï¼‰ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºå¹¶ç¼–è¾‘è¯¥æ–‡ä»¶ï¼ˆWindowsä¸‹çš„é…ç½®æ–‡ä»¶ä½äº<code>%HOMEPATH%\AppData\Roming\pip\pip.ini</code>ï¼‰ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="language-shell">[global]
timeout = 6000
index-url = https://pypi.doubanio.com/simple
[install]
use-mirrors = true
mirrors = https://pypi.doubanio.com/simple
</code></pre>
<p>å¸¸ç”¨è½¯ä»¶æºåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>https://pypi.doubanio.com</code>ï¼šè±†ç“£ï¼›</li>
<li><code>http://mirrors.aliyun.com/pypi</code>ï¼šé˜¿é‡Œï¼›</li>
<li><code>http://pypi.mirrors.ustc.edu.cn</code>ï¼šä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ï¼›</li>
<li><code>https://pypi.tuna.tsinghua.edu.cn</code>ï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/">æ¸…åå¤§å­¦</a>ï¼›</li>
</ul>
<p>æœ¬åœ°é•œåƒå¯ç”¨<a href="../%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E8%BD%AF%E4%BB%B6.html#pypi%E4%BB%A3%E7%90%86">Nexusé…ç½®</a>ã€‚</p>
<h3 id="condaè½¯ä»¶æº"><a class="header" href="#condaè½¯ä»¶æº">condaè½¯ä»¶æº</a></h3>
<p>æ·»åŠ é»˜è®¤ä»“åº“<code>defaults</code>çš„åœ°å€ï¼š</p>
<pre><code class="language-shell">conda config --add default_channels \
    https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/  # add default channel URL
conda config --set show_channel_urls yes  # æ˜¾ç¤ºä¸‹è½½å†…å®¹çš„URL
</code></pre>
<p>æ·»åŠ è‡ªå®šä¹‰ä»“åº“åç§°å’Œåœ°å€ï¼š</p>
<pre><code class="language-shell">conda config --{prepend|append} channels &lt;new_channel&gt;
conda config --set custom_channels.conda-forge \
    https://mirror.sjtu.edu.cn/anaconda/cloud/
</code></pre>
<p>ç›´æ¥ç¼–è¾‘è¯¥æ–‡ä»¶ï¼š</p>
<pre><code class="language-yaml">channels:
  - conda-forge
  - defaults
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch:     https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
</code></pre>
<p>é…ç½®æ–‡ä»¶ä¸­<code>channels</code>å¯åŒ…å«å¤šä¸ªæºï¼Œä¼˜å…ˆçº§ä»ä¸Šåˆ°ä¸‹é€’å‡ã€‚é»˜è®¤ä»é«˜ä¼˜å…ˆçº§çš„æºé€‰æ‹©åŒåè½¯ä»¶åŒ…ï¼ˆ<code>channel_priority=strict</code>ï¼‰ï¼›åä¹‹ä¼˜å…ˆé€‰æ‹©é«˜ç‰ˆæœ¬å·çš„åŒåè½¯ä»¶åŒ…ã€‚</p>
<pre><code class="language-shell">conda config --set channel_priority strict
</code></pre>
<p>é€šè¿‡<code>default_channels</code>é…ç½®<code>defaults</code>ä»“åº“çš„å®é™…åœ°å€ï¼›é€šè¿‡<code>custom_channels</code>é…ç½®å…¶ä»–ä»“åº“å¯¹åº”çš„åœ°å€ï¼›å¦‚æœæœªè®¾å®šç›¸åº”çš„åœ°å€ä¿¡æ¯ï¼Œåˆ™é»˜è®¤è¿æ¥åˆ°<a href="https://conda.anaconda.org/">Anacondaå®˜æ–¹ä»“åº“</a>ã€‚</p>
<p>åˆ—å‡ºå½“å‰çš„ä»“åº“é…ç½®</p>
<pre><code class="language-shell">conda config --show channels
conda config --show-sources   # show all sources
conda config --validate       # éªŒè¯ä»“åº“æº
</code></pre>
<h5 id="ä»“åº“é•œåƒ"><a class="header" href="#ä»“åº“é•œåƒ">ä»“åº“é•œåƒ</a></h5>
<ul>
<li><code>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/</code>ï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">æ¸…åå¤§å­¦</a>ï¼ŒåŒ…å«<code>pytorch</code>ã€<code>conda-forge</code>ç­‰å¤šä¸ªä»“åº“ï¼Œå…¶ä¸­<code>conda-forge</code>åŒ…å«<code>linux-aarch64</code>æ¶æ„çš„ä»“åº“ï¼Œå¯ç”¨äºARMå¹³å°ï¼›</li>
<li><code>https://mirrors.bfsu.edu.cn/anaconda/cloud/</code>ï¼š<a href="https://mirrors.bfsu.edu.cn/help/anaconda/">åŒ—äº¬å¤–å›½è¯­å¤§å­¦</a>ï¼ˆä¸æ¸…åå¤§å­¦é•œåƒæºä¸€è‡´ï¼‰ï¼›</li>
<li><code>https://mirror.sjtu.edu.cn/anaconda/cloud/</code>ï¼š<a href="https://mirrors.sjtug.sjtu.edu.cn/docs/anaconda">ä¸Šæµ·äº¤é€šå¤§å­¦</a>ï¼ˆä¸åŒ…å«<code>conda-forge/linux-aarch64</code>ï¼‰ï¼›</li>
<li><code>https://mirrors.aliyun.com/anaconda/cloud/</code>ï¼š<a href="https://developer.aliyun.com/mirror/anaconda">é˜¿é‡Œäº‘</a>ï¼ˆä¸åŒ…å«<code>conda-forge/linux-aarch64</code>ï¼‰ã€‚</li>
</ul>
<h5 id="ä½¿ç”¨nexuså¯åˆ›å»ºé•œåƒä»£ç†"><a class="header" href="#ä½¿ç”¨nexuså¯åˆ›å»ºé•œåƒä»£ç†">ä½¿ç”¨<a href="../%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E8%BD%AF%E4%BB%B6.html#conda%E4%BB%A3%E7%90%86">Nexus</a>å¯åˆ›å»ºé•œåƒä»£ç†</a></h5>
<blockquote>
<p>Nexus Condaä»£ç†ä¸ä¼šè·å–<code>current_repodata.json</code>ï¼Œå› æ­¤ä½¿ç”¨<code>conda</code>æ—¶æ€»æ˜¯ä¼šå›é€€ä½¿ç”¨<code>repodata.json</code>ï¼Œå¯¼è‡´è§£æé€Ÿåº¦å˜æ…¢ï¼ˆç›´æ¥ä½¿ç”¨é•œåƒæºåˆ™ä¸ä¼šæœ‰æ­¤é—®é¢˜ï¼‰ã€‚<code>mamba</code>æ€»æ˜¯ä½¿ç”¨<code>repodata.json</code>ä¸ä¼šå—æ­¤å½±å“ã€‚</p>
</blockquote>
<p>å¤šæ•°é•œåƒæºä»…åŒ…å«æœ€å¸¸ç”¨çš„ä»“åº“ï¼Œå¦‚<code>conda-forge</code>ã€<code>pytorch</code>ï¼Œè€Œä¸€äº›å¼€æºåº“åœ¨Anacondaå®˜æ–¹ä»“åº“ç»´æŠ¤äº†ç‹¬ç«‹çš„ä»“åº“ï¼ˆä»…åŒ…å«å¼€æºåº“ç›¸å…³åŒ…ï¼‰ï¼Œå› æ­¤è¦ä½¿ç”¨è¿™äº›ä»“åº“éœ€è¦ä½¿ç”¨Anacondaå®˜æ–¹ä»“åº“ä½œä¸ºä»£ç†æºã€‚</p>
<pre><code class="language-ini">Name=anaconda-cloud
Remote=https://conda.anaconda.org/
URL=http://192.168.178.52:8081/repository/anaconda-cloud
</code></pre>
<h4 id="è½¯ä»¶åŒ…ä¸‹è½½ä¼˜åŒ–"><a class="header" href="#è½¯ä»¶åŒ…ä¸‹è½½ä¼˜åŒ–">è½¯ä»¶åŒ…ä¸‹è½½ä¼˜åŒ–</a></h4>
<h5 id="å®‰è£…mambalibmambaåŠ é€Ÿä¾èµ–è§£æå’Œä¸‹è½½"><a class="header" href="#å®‰è£…mambalibmambaåŠ é€Ÿä¾èµ–è§£æå’Œä¸‹è½½">å®‰è£…mamba/libmambaåŠ é€Ÿä¾èµ–è§£æå’Œä¸‹è½½</a></h5>
<blockquote>
<p><em><code>mamba</code> is a reimplementation of the conda package manager in C++.</em></p>
</blockquote>
<p><code>mamba</code>æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œä¸‹è½½ä»“åº“æ•°æ®å’ŒåŒ…æ–‡ä»¶ï¼Œä½¿ç”¨<code>libsolv</code>ä»¥åŠ é€Ÿä¾èµ–è§£æï¼ˆç”¨äºRPMåŒ…ç®¡ç†å™¨ï¼‰ã€‚</p>
<pre><code class="language-shell">conda install -n base -c conda-forge mamba
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œä½¿ç”¨<code>mamba</code>ä»£æ›¿<code>conda</code>è¿›è¡ŒåŒ…ç®¡ç†ï¼Œå…¶è¯­æ³•ä¸<code>conda</code>ä¸€è‡´ã€‚</p>
<blockquote>
<p>æœ€æ–°çš„<code>conda</code>ç‰ˆæœ¬ï¼ˆ<code>22.9+</code>ï¼‰æä¾›<code>--experimental-solver libmamba</code>é€‰é¡¹ï¼ˆéœ€è¦å®‰è£…<code>conda-libmamba-solver</code>åŒ…ï¼‰ï¼Œä½¿ç”¨<code>mamba</code>è¿›è¡Œä¾èµ–è§£æï¼Œä½†ä»é‡‡ç”¨<code>conda</code>ä¸‹è½½åŒ…ã€‚</p>
</blockquote>
<p><code>mamba/libmamba</code>è™½ç„¶åŠ é€Ÿè§£æå’Œä¸‹è½½ï¼Œä½†ä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜å¯¼è‡´é‡å¤ä¸‹è½½ï¼ˆ<em>è™½ç„¶æ£€æµ‹åˆ°æœ¬åœ°ç¼“å­˜åŒ…ä½†ä¼¼ä¹URLä¸åŒ¹é…</em>ï¼‰ã€‚å¦‚æœæ˜¯é€šè¿‡æœ¬åœ°é•œåƒä»“åº“ä¸‹è½½ï¼Œåˆ™é‡å¤ä¸‹è½½æ²¡æœ‰å¤šå¤§å½±å“ï¼›é˜²æ­¢ï¼Œå¦‚æœé€šè¿‡è¿œç¨‹ä»“åº“ä¸‹è½½ï¼Œè¿™é‡å¤ä¸‹è½½æ¯”è¾ƒæµªè´¹æ—¶é—´ã€‚</p>
<h5 id="é…ç½®httpä»£ç†"><a class="header" href="#é…ç½®httpä»£ç†">é…ç½®HTTPä»£ç†</a></h5>
<p><code>conda</code>ä¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä»£ç†é…ç½®ï¼Œä½†ä¸æ”¯æŒ<code>$no_proxy</code>ä¾‹å¤–é¡¹ã€‚å¦‚æœ<code>conda</code>ä½¿ç”¨çš„ä»£ç†é…ç½®ä¸ç³»ç»Ÿé…ç½®ä¸åŒï¼Œå¯åœ¨<code>.condarc</code>ä¸­æŒ‡å®šï¼ˆåŒæ ·ä¸æ”¯æŒä¾‹å¤–é¡¹ï¼‰ã€‚</p>
<pre><code class="language-yaml">proxy_servers:
  http: http://172.28.76.4:3128
  https: http://172.28.76.4:3128
</code></pre>
<blockquote>
<p><code>conda</code>/<code>mamba</code>ä½¿ç”¨<code>urllib3</code>ï¼Œä¼šè¯»å–ç¯å¢ƒå˜é‡<code>$http[s]_proxy</code>ï¼›Windowsä¸­ä¼˜å…ˆæ£€æµ‹ç¯å¢ƒå˜é‡<code>$env:HTTP[s]_PROXY</code>ï¼Œå…¶æ¬¡æ£€æµ‹<strong>ç½‘ç»œè®¾ç½®</strong>ä¸­çš„<strong>ä»£ç†è®¾ç½®</strong>ï¼Œå¯é€šè¿‡ä»£ç†è®¾ç½®çš„ä¾‹å¤–é¡¹æ’é™¤ä¸éœ€è¦é€šè¿‡ä»£ç†è®¿é—®çš„é•œåƒæºåœ°å€ï¼Œä¾‹å¦‚æœ¬åœ°ä»“åº“ä»£ç†ã€‚ï¼‰</p>
</blockquote>
<h5 id="ç½‘ç»œè¶…æ—¶è®¾ç½®"><a class="header" href="#ç½‘ç»œè¶…æ—¶è®¾ç½®">ç½‘ç»œè¶…æ—¶è®¾ç½®</a></h5>
<p>å½“ä½¿ç”¨<code>nexus</code>é•œåƒä»£ç†æ—¶ï¼Œæ–°å†…å®¹ä¼šé¦–å…ˆä¸‹è½½åˆ°ä»£ç†æœåŠ¡å™¨ï¼Œç„¶åå†ä¸‹è½½åˆ°æœ¬åœ°ã€‚å› æ­¤ï¼Œä»£ç†æœåŠ¡å™¨å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ä¼šå¯¼è‡´æœ¬åœ°<code>conda</code>ä¸‹è½½è¶…æ—¶ã€‚è¿™ç§æƒ…å†µï¼Œå¯å°†ç½‘ç»œè¯»å–çš„è¶…æ—¶é™åˆ¶è°ƒå¤§ã€‚</p>
<pre><code class="language-yaml">remote_read_timeout_secs: 180.0  # 60.0 by default
</code></pre>
<blockquote>
<p><code>mamba</code>å¿½ç•¥è¯¥é€‰é¡¹ï¼Œ<em>å°è¯•è®¾ç½®<code>export MAMBA_NO_LOW_SPEED_LIMIT=1</code></em>ã€‚</p>
</blockquote>
<h2 id="å¼€å‘ç¯å¢ƒ"><a class="header" href="#å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</a></h2>
<h3 id="æ ‡å‡†åº“"><a class="header" href="#æ ‡å‡†åº“">æ ‡å‡†åº“</a></h3>
<ul>
<li>
<p>ç³»ç»Ÿç®¡ç†ï¼š<code>os, sys, shutil</code></p>
</li>
<li>
<p>æ—¥æœŸæ—¶é—´ï¼š<code>datetime, time, calendar</code></p>
</li>
<li>
<p>é«˜çº§æ•°æ®ç»“æ„ï¼š<code>collections, array, enum </code></p>
</li>
<li>
<p>è¾“å…¥è¾“å‡ºæ§åˆ¶ï¼š<code>io, fcntl, logging, getpass, warnings</code></p>
</li>
<li>
<p>æ•°æ®å¤„ç†ï¼š<code>re</code>, <code>struct</code></p>
</li>
<li>
<p>æ–‡ä»¶è§£æï¼š<code>csv, configparser, json, xml, html</code></p>
<p>Pythonæœ‰ä¸‰ç§æ–¹æ³•è§£æXMLï¼ŒSAXï¼ŒDOMï¼Œä»¥åŠElementTreeã€‚ElementTreeå°±åƒä¸€ä¸ªè½»é‡çº§çš„DOMï¼Œå…·æœ‰æ–¹ä¾¿å‹å¥½çš„APIã€‚ä»£ç å¯ç”¨æ€§å¥½ï¼Œé€Ÿåº¦å¿«ï¼Œæ¶ˆè€—å†…å­˜å°‘ã€‚</p>
<blockquote>
<p>**æ³¨ï¼š**å› DOMéœ€è¦å°†XMLæ•°æ®æ˜ å°„åˆ°å†…å­˜ä¸­çš„æ ‘ï¼Œä¸€æ˜¯æ¯”è¾ƒæ…¢ï¼ŒäºŒæ˜¯æ¯”è¾ƒè€—å†…å­˜ï¼Œè€ŒSAXæµå¼è¯»å–XMLæ–‡ä»¶ï¼Œæ¯”è¾ƒå¿«ï¼Œå ç”¨å†…å­˜å°‘ï¼Œä½†éœ€è¦ç”¨æˆ·å®ç°å›è°ƒå‡½æ•°ï¼ˆhandlerï¼‰ã€‚</p>
</blockquote>
</li>
<li>
<p>æ•°æ®æŒä¹…åŒ–ï¼š<code>pickle, marshal, sqlite3</code></p>
<p><code>sqlite</code>ä½¿ç”¨æ–‡ä»¶ä¿å­˜æ•°æ®ï¼Œå› æ­¤æ— éœ€è¿è¡Œä»»ä½•æœåŠ¡ã€‚Pythonå†…ç½®<code>sqlite3</code>æä¾›sqliteæ•°æ®åº“çš„æ“ä½œã€‚</p>
</li>
<li>
<p>æ•°æ®åº“ï¼š<code>mysql-connector-python</code>, <code>psycopg2</code>ï¼ˆPostgreSQLï¼‰</p>
<p>DB-API æ˜¯ä¸€ä¸ªè§„èŒƒ. å®ƒå®šä¹‰äº†ä¸€ç³»åˆ—å¿…é¡»çš„å¯¹è±¡å’Œæ•°æ®åº“å­˜å–æ–¹å¼, ä»¥ä¾¿ä¸ºå„ç§å„æ ·çš„åº•å±‚æ•°æ®åº“ç³»ç»Ÿå’Œå¤šç§å¤šæ ·çš„æ•°æ®åº“æ¥å£ç¨‹åºæä¾›ä¸€è‡´çš„è®¿é—®æ¥å£ ã€‚</p>
<p><a href="https://realpython.com/python-sql-libraries/">Introduction to Python SQL Libraries</a>.</p>
</li>
<li>
<p>ç½‘ç»œé€šä¿¡ï¼š<code>socket,ipaddress</code>,  <code>xmlrpc</code>, <code>email,smtpd,smtplib,imaplib,poplib</code>,  <code>cgi</code>, <code>ftplib</code>, <code>uuid,base64,urllib.parse</code></p>
</li>
<li>
<p>HTTPï¼š<code>http</code>, <code>urllib.request</code></p>
<blockquote>
<p><a href="https://docs.python.org/3.1/library/urllib.request.html#module-urllib.request">urllib</a>æ˜¯ä¸€ä¸ªå†…ç½®åœ¨Pythonæ ‡å‡†åº“ä¸­çš„æ¨¡å—ï¼Œå¹¶ä½¿ç”¨<code>http.client</code>æ¥å®ç°HTTPå’ŒHTTPSåè®®çš„å®¢æˆ·ç«¯ã€‚</p>
</blockquote>
</li>
<li>
<p>å¯†ç å­¦ï¼š<code>hashlib, hmac</code></p>
</li>
<li>
<p>æ•°æ®å‹ç¼©å½’æ¡£ï¼š<code>zlib,gzip,bz2,lzma,zipfile,tarfile</code>ï¼›</p>
</li>
<li>
<p>ä»»åŠ¡è°ƒåº¦ï¼š<code>asyncio, multiprocessing, threading, concurrent, signal, subprocess, queue, select, atexit</code>ï¼š</p>
<blockquote>
<p><code>concurrent.futures</code></p>
</blockquote>
</li>
<li>
<p>ç¨‹åºç®¡ç†ï¼š<code>importlib, inspect, typing, argparse, getopt, traceback</code>ï¼›</p>
</li>
<li>
<p>è°ƒè¯•ï¼š<code>timeit, trace</code>ï¼›</p>
<p><a href="https://pypistats.org/top">PyPI Download Stats (pypistats.org)</a></p>
</li>
</ul>
<h3 id="ç¬¬ä¸‰æ–¹åº“"><a class="header" href="#ç¬¬ä¸‰æ–¹åº“">ç¬¬ä¸‰æ–¹åº“</a></h3>
<ul>
<li>
<p>è¯­æ³•æ ¼å¼ï¼š<code>autopep8</code>, <code>pylint</code>ï¼›</p>
</li>
<li>
<p>ç³»ç»Ÿç®¡ç†ï¼š<code>filelock, psutil</code></p>
</li>
<li>
<p>æ•°å€¼è®¡ç®—ï¼š<code>numpy</code>ã€<code>scipy</code>ï¼›</p>
</li>
<li>
<p>æ•°æ®å¯è§†åŒ–ï¼š<code>matplotlib, seaborn, bokeh, plotly, pyecharts</code>ï¼›</p>
<blockquote>
<p><a href="https://blog.csdn.net/weixin_39777626/article/details/78598346">Pythonå¯è§†åŒ–åº“_Asçš„åšå®¢-CSDNåšå®¢_pythonå¯è§†åŒ–</a>ã€‚</p>
</blockquote>
</li>
<li>
<p>æ–‡æ¡£ç”Ÿæˆï¼š<a href="https://jeltef.github.io/PyLaTeX/current/index.html"><code>pylatex</code></a>, <a href="https://pypi.org/project/pdfkit/"><code>pdfkit</code></a>ï¼›</p>
</li>
<li>
<p>Webå¼€å‘ï¼š<code>django, flask, tornado, requests, beatifulsoup, scrapy</code>ï¼›<code>urllib3</code>, <code>requests</code></p>
<blockquote>
<p><a href="https://docs.python-requests.org/en/master/">Requests</a>ç”±<a href="https://urllib3.readthedocs.io/en/latest/">urllib3</a>æä¾›æ”¯æŒã€‚</p>
</blockquote>
</li>
<li>
<p>å›¾å½¢ç•Œé¢å¼€å‘ï¼š<code>wxPython, PyQT, TKinter</code>ï¼›</p>
</li>
<li>
<p>å‘½ä»¤è¡Œå·¥å…·ï¼š<code>click</code>ã€<a href="https://github.com/Textualize/rich"><code>rich</code></a>`ã€‚</p>
</li>
<li>
<p><a href="../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%B7%B5.html#%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">æœºå™¨å­¦ä¹ </a>ã€‚</p>
</li>
</ul>
<h5 id="æ•°æ®å¤„ç†"><a class="header" href="#æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</a></h5>
<p><code>pandas</code>ã€<code>pandasql</code>ã€<code>pyarrow</code>ã€<code>dask</code>ï¼›</p>
<p>ä½¿ç”¨<code>conda</code>å®‰è£…æ—¶<code>pyarrow</code>ï¼Œé»˜è®¤çš„ä»“åº“å®‰è£…ç‰ˆæœ¬è¾ƒæ—§ï¼ˆ<code>0.15</code>ï¼‰ï¼Œå¯¼è‡´å…¼å®¹é—®é¢˜ï¼Œå› æ­¤ä½¿ç”¨<code>conda-forge</code>é€šé“ã€‚</p>
<pre><code class="language-python">conda install -c conda-forge pyarrow
</code></pre>
<pre><code class="language-python">conda install dask
pip install &quot;dask[complete]&quot;    # Install everything
</code></pre>
<p>Pandasï¼š</p>
<pre><code class="language-python">pd.show_versions()   # æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒã€pandasç‰ˆæœ¬åŠå…¶ä¾èµ–åŒ…çš„ç‰ˆæœ¬
</code></pre>
<pre><code class="language-python">pd.io.parquet.get_engine('auto')   # è·å–parquetè¯»å†™å¼•æ“
</code></pre>
<blockquote>
<p>å¼•å…¥<code>pandas</code>åŒ…åç«‹å³è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè§£å†³ä¸<code>matlab.engine</code>çš„ç¯å¢ƒå†²çªã€‚</p>
</blockquote>
<h3 id="visual-studio"><a class="header" href="#visual-studio">Visual Studio</a></h3>
<p>å®‰è£…Pythonå·¥ä½œè´Ÿè½½ï¼›</p>
<p>å®‰è£…Python/Condaè™šæ‹Ÿç¯å¢ƒï¼›</p>
<p>é€šè¿‡Pythonç¯å¢ƒçª—å£ï¼Œå®‰è£…æˆ–å¸è½½åŒ…æˆ–å¯åŠ¨äº¤äº’å¼Pythonå‘½ä»¤ç¯å¢ƒï¼›</p>
<img src="Pythonå¼€å‘ç¯å¢ƒ.assets/image-20210522085526208.png" alt="image-20210522085526208" style="zoom:50%;" />
<h3 id="visual-studio-codepython-extension-pack"><a class="header" href="#visual-studio-codepython-extension-pack">Visual Studio Codeï¼ˆPython Extension Packï¼‰</a></h3>
<p>Condaç¯å¢ƒæœªæ­£ç¡®åŠ è½½ä¼šå¯¼è‡´æŸäº›åŒ…ï¼ˆä¾‹å¦‚<code>numpy</code>ï¼‰æ— æ³•è¢«å¯¼å…¥ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p><em>ä¸ºä¿è¯ç»ˆç«¯ä¸­Condaç¯å¢ƒè‡ªåŠ¨åŠ è½½ï¼ˆç»ˆç«¯å¯åŠ¨æ—¶åŠ è½½ï¼‰ï¼Œæ‰§è¡Œ</em></p>
<pre><code class="language-powershell">conda init cmd.exe|powershell   # conda config --set auto_activate_base false
</code></pre>
<p>åˆå§‹åŒ–æ–‡ä»¶åœ¨<code>%USER%/Documents/WindowsPowerShell/profile.ps1</code>ã€‚</p>
</li>
<li>
<p><em>åœ¨VS Codeä¸­é…ç½®Condaè·¯å¾„ï¼Œä»è€Œä½¿ç»ˆç«¯å¯åŠ¨æ—¶è‡ªåŠ¨æ¿€æ´»Condaè™šæ‹Ÿç¯å¢ƒï¼ˆ<code>cmd</code>ï¼‰</em>ã€‚</p>
<pre><code class="language-json">&quot;python.condaPath&quot;: &quot;C:\\tools\\miniconda3\\Scripts\\conda.exe&quot;
</code></pre>
</li>
</ol>
<blockquote>
<p>To ensure the environment is set up well from a shell perspective, one option is to use an Anaconda prompt with the activated environment to launch VS Code ==using the <code>code .</code> command==. At that point you just need to select the interpreter using the Command Palette or by clicking on the status bar.</p>
<p>Conda environments can't be automatically activated in the VS Code Integrated Terminal if the default shell is <em>set to PowerShell</em>. </p>
<p><a href="https://github.com/microsoft/vscode-python/issues/11638">PowerShell does not support automatic activation of conda virtual environment Â· Issue #11638 Â· microsoft/vscode-python (github.com)</a></p>
</blockquote>
<p>å¿½ç•¥å•è¡Œè­¦å‘Šï¼Œåœ¨è¡Œæœ«æ·»åŠ å£°æ˜ã€‚å¦‚æœè¦å¿½ç•¥åŒä¸€æ–‡ä»¶ï¼Œåˆ™å°†å£°æ˜ç½®äºå•ç‹¬è¡Œã€‚</p>
<pre><code class="language-python">import config.logging_settings  # type: ignore   =&gt; pylance
import config.logging_settings  # pylint: disable=unused-import
</code></pre>
<blockquote>
<p><code>pylint</code>å¯ä»¥æ”¾åœ¨<code>type</code>æ ‡è®°åã€‚</p>
</blockquote>
<p>å…¨å±€å¿½ç•¥è­¦å‘Šï¼š</p>
<pre><code class="language-json">&quot;python.linting.pylintArgs&quot;: [
    &quot;--disable=unused-import&quot;,
    &quot;--disable=too-few-public-methods&quot;
]  // =&gt; pylint
&quot;python.analysis.diagnosticSeverityOverrides&quot;: {
    &quot;reportUnusedImport&quot;: &quot;information&quot;,
    &quot;reportMissingImports&quot;: &quot;none&quot;
}  // ==&gt; pylance
</code></pre>
<blockquote>
<p>Pylanceå’Œpylintå¯åŒæ—¶å¯ç”¨ï¼Œå› æ­¤éœ€è¦è®¾ç½®ä¸¤é¡¹é…ç½®ã€‚</p>
</blockquote>
<p>Better Commentsæ’ä»¶ï¼šæœ‰5ä¸­ç±»å‹çš„æ³¨é‡Šé«˜äº®ï¼Œåˆ†åˆ«ç”¨ç¬¦å·<code>* ? ! //todo</code>æ¥åŒºåˆ†ã€‚</p>
<h5 id="è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•åˆ†æé…ç½®"><a class="header" href="#è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•åˆ†æé…ç½®">è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•åˆ†æé…ç½®</a></h5>
<pre><code class="language-json">{
   &quot;python.autoComplete.extraPaths&quot;: [
      &quot;/home/gary/dataproc/dataproc/lib&quot;
   ],
   &quot;python.analysis.extraPaths&quot;: [
      &quot;/home/gary/dataproc/dataproc/lib&quot;
   ]
}
</code></pre>
<h4 id="å•å…ƒæµ‹è¯•"><a class="header" href="#å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</a></h4>
<p>å¯å°†é¡¹ç›®ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶å¤¹è®¾ç½®ä¸ºå•å…ƒæµ‹è¯•ç›®å½•ï¼ˆå¦‚<code>test</code>ï¼‰ï¼›å•å…ƒæµ‹è¯•è„šæœ¬éœ€è¦ä½äºè¯¥ç›®å½•ä¸‹ï¼Œä»¥<code>test_*.py</code>æ¨¡å¼ä¿å­˜çš„æ–‡ä»¶å°†è¢«è‡ªåŠ¨å‘ç°ä¸ºæµ‹è¯•è„šæœ¬<sup class="footnote-reference"><a href="#vsctest">1</a></sup>ã€‚å•å…ƒæµ‹è¯•ç¯å¢ƒä¼šè‡ªåŠ¨å°†æµ‹è¯•ç›®å½•å’Œå½“å‰é¡¹ç›®ç›®å½•åŠ å…¥<code>PYTHONPATH</code>ã€‚</p>
<blockquote>
<p><strong>Tip</strong>: Sometimes tests placed in subfolders aren't discovered because such test files cannot be imported. To make them importable, create an empty file named <code>__init__.py</code> in that folder. ï¼ˆä¸ºæ¯ä¸€çº§æµ‹è¯•ç›®å½•åˆ›å»º<code>__init__.py</code>æµ‹è¯•è·¯å¾„å¯è¢«è¯†åˆ«ä¸ºåŒ…ï¼‰</p>
<p>ç”±äºæµ‹è¯•ç›®å½•ä½äºæœç´¢è·¯å¾„çš„æœ€å‰ï¼Œå› æ­¤åº”è¯¥é¿å…æµ‹è¯•ç›®å½•ä¸­åŒ…å«ä¸ç³»ç»Ÿæ¨¡å—æˆ–ç”¨æˆ·æ¨¡å—åŒåçš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ˆå¯¼è‡´å…¶å±è”½ç³»ç»Ÿ/ç”¨æˆ·æ¨¡å—çš„å¯¼å…¥ï¼‰ã€‚</p>
</blockquote>
<h5 id="å•å…ƒæµ‹è¯•é¡¹è‡ªåŠ¨å‘ç°"><a class="header" href="#å•å…ƒæµ‹è¯•é¡¹è‡ªåŠ¨å‘ç°">å•å…ƒæµ‹è¯•é¡¹è‡ªåŠ¨å‘ç°</a></h5>
<p>å¦‚æœå•å…ƒæµ‹è¯•è„šæœ¬ä¸­åŒ…å«é”™è¯¯ï¼ˆæ— æ³•æ•è·å¼‚å¸¸ï¼‰ï¼Œåˆ™åœ¨å‘ç°é˜¶æ®µä¼šå°†å…¶åˆ†ç±»çš„é”™è¯¯æµ‹è¯•é¡¹ä¸€æ ï¼ˆå®Œæ•´é”™è¯¯æ—¥å¿—å¯åœ¨Pythonè¾“å‡ºçª—å£ä¸­æŸ¥çœ‹ï¼‰ï¼›è§£å†³é”™è¯¯åä¼šè‡ªåŠ¨æ›´æ–°åˆ°å¯¹åº”çš„æµ‹è¯•ç›®å½•æ ‘ä¸‹ã€‚</p>
<h4 id="åœ¨vs-codeä¸­ä½¿ç”¨jupyter-notebook"><a class="header" href="#åœ¨vs-codeä¸­ä½¿ç”¨jupyter-notebook">åœ¨VS Codeä¸­ä½¿ç”¨Jupyter Notebook</a></h4>
<p>éœ€è¦å®‰è£…<code>ipykernel</code>ä»¥å¯åŠ¨å†…æ ¸ã€‚</p>
<h3 id="jupyter"><a class="header" href="#jupyter">Jupyter</a></h3>
<h5 id="å®‰è£…"><a class="header" href="#å®‰è£…">å®‰è£…</a></h5>
<pre><code class="language-shell">conda create -n jupyterlab -c conda-forge {jupyterlab|jupyterhub}
conda install -c conda-forge ipywidgets jupyterhub-idle-culler
</code></pre>
<h4 id="jupyterlab"><a class="header" href="#jupyterlab">JupyterLab</a></h4>
<h5 id="è·¯å¾„ä¿¡æ¯"><a class="header" href="#è·¯å¾„ä¿¡æ¯">è·¯å¾„ä¿¡æ¯</a></h5>
<p><code>jupyter --path</code>é…ç½®æ–‡ä»¶ã€æ•°æ®ç­‰çš„é»˜è®¤è·¯å¾„ï¼ˆä»¥ä¸‹ç»™å‡ºé¦–é€‰è·¯å¾„ï¼‰ã€‚</p>
<pre><code class="language-shell">config:
    $HOME/.jupyter 
data:
    $HOME/.local/share/jupyter
runtime:
    $HOME/.local/share/jupyter/runtime
</code></pre>
<p>ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼šé…ç½®æ–‡ä»¶ä¸­åŒ…å«é»˜è®¤å€¼ï¼ˆå¯è¿›è¡Œä¿®æ”¹ï¼‰</p>
<pre><code class="language-shell">jupyter lab --generate-config  # -&gt; $HOME/.jupyter/jupyter_lab_config.py
</code></pre>
<p>ç½‘ç»œé…ç½®</p>
<pre><code class="language-python">c.ServerApp.base_url='/analyze/jupyter'
c.ServerApp.ip = 'localhost' # --ip=0.0.0.0
c.ServerApp.port = 0         # --port=8888
</code></pre>
<blockquote>
<p>å¦‚æœä½¿ç”¨ä»£ç†å‡ºç°403é”™è¯¯ï¼Œå°è¯•è®¾ç½®<code>c.ServerApp.disable_check_xsrf=True</code>ç¦ç”¨<em>cross-site-request-forgery</em>æ£€æŸ¥ã€‚</p>
</blockquote>
<p><a href="../%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E8%BD%AF%E4%BB%B6.html#Nginx">NGINX</a>åå‘ä»£ç†JupyterLabæœåŠ¡ï¼Œå‚è€ƒ<a href="#JupyterHub%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE">JupyterHubåå‘ä»£ç†é…ç½®</a>ã€‚</p>
<p>è¿è¡Œç¯å¢ƒé…ç½®</p>
<pre><code class="language-python">c.ServerApp.root_dir='~/jupyter'
c.ServerApp.allow_root = False   # --allow-root: Allow the server to be run from root.
c.ServerApp.autoreload = True    # --autoreload
c.ServerApp.open_browser = False # --no-browser
</code></pre>
<p>å®‰å…¨é…ç½®</p>
<pre><code class="language-python">c.ServerApp.allow_origin = '*'
c.ServerApp.certfile = ''
c.ServerApp.keyfile = ''
c.ServerApp.cookie_secret = b''
c.ServerApp.cookie_secret_file = ''
c.ServerApp.password = ''   # from jupyter_server.auth import passwd; passwd()
</code></pre>
<h5 id="å¯åŠ¨jupyterlabæœåŠ¡"><a class="header" href="#å¯åŠ¨jupyterlabæœåŠ¡">å¯åŠ¨JupyterLabæœåŠ¡</a></h5>
<p>ä»¥ç³»ç»ŸæœåŠ¡å¯åŠ¨ï¼š</p>
<pre><code class="language-ini">[Service]
Type=simple
Environment=&quot;WORKDIR=/home/ml/jupyterlab&quot;
Environment=&quot;LOGDIR=/var/log/jupyterlab&quot;
ExecStartPre=/usr/bin/mkdir -p /tmp/jupyter $WORKDIR
ExecStart=/usr/local/miniconda3/envs/jupyter/bin/jupyter lab $OPTIONS \
          &gt; ${LOGIDR}/server.log 2&gt; ${LOGIDR}/server.error.log
TimeoutSec=10
ExecStop=/bin/kill -s TERM $MAINPID
User=ml
</code></pre>
<h4 id="jupyterhub"><a class="header" href="#jupyterhub">JupyterHub</a></h4>
<h5 id="ç³»ç»Ÿæ¶æ„"><a class="header" href="#ç³»ç»Ÿæ¶æ„">ç³»ç»Ÿæ¶æ„</a></h5>
<img src="Pythonå¼€å‘ç¯å¢ƒ.assets/jhub-fluxogram.jpeg" alt="JupyterHub subsystems" style="zoom: 50%;" />
<p>Jupyterç³»ç»Ÿç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>HTTP Proxy</strong>ï¼šä»£ç†ç”¨æˆ·è¯·æ±‚ï¼Œå¯¹å¤–çš„å”¯ä¸€çš„Webæ¥å£ï¼›</li>
<li><strong>Hub</strong>ï¼š</li>
<li><strong>Spawners</strong>ï¼šç®¡ç†ç”¨æˆ·æœåŠ¡ï¼›</li>
<li><strong>Authenticator</strong>ï¼šç”¨æˆ·é‰´æƒç»„ä»¶ã€‚</li>
</ul>
<p>å„ä¸ªæœåŠ¡é€šè¿‡HTTPè¿›è¡Œé€šä¿¡ï¼Œå› æ­¤å¯ä»¥åˆ†ç¦»éƒ¨ç½²ã€‚</p>
<blockquote>
<p><em>Connections to user servers go through the proxy, and not the hub itself. If the proxy stays running when the hub restarts (for maintenance, re-configuration, etc.), then user connections are not interrupted. For simplicity, by default the hub starts the proxy automatically, so if the hub restarts, the proxy restarts, and user connections are interrupted. It is easy to run the proxy separately, for information see the separate proxy page.</em></p>
</blockquote>
<pre><code class="language-shell">jupyterhub token|upgrade-db -h
</code></pre>
<h5 id="é…ç½®jupyterhub"><a class="header" href="#é…ç½®jupyterhub">é…ç½®JupyterHub</a></h5>
<p>æ¨èä»¥ä¸‹å®‰è£…é…ç½®ï¼š</p>
<ul>
<li><code>/srv/jupyterhub</code> for all security and runtime files</li>
<li><code>/etc/jupyterhub</code> for all configuration files</li>
<li><code>/var/log</code> for log files</li>
</ul>
<p>ç”Ÿæˆå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤è¾“å‡ºåˆ°å½“å‰ç›®å½•ï¼Œä½¿ç”¨<code>-f</code>é€‰é¡¹æŒ‡å®šè¾“å‡ºç›®å½•ï¼‰ã€‚</p>
<pre><code class="language-shell">jupyterhub --generate-config -f /etc/jupyterhub/jupyterhub_config.py  
jupyterhub -h,--help-all   # åˆ—å‡ºæ‰€æœ‰å‘½ä»¤è¡Œé…ç½®é¡¹
configurable-http-proxy -h # ä»£ç†é…ç½®é¡¹
</code></pre>
<p>é™¤äº†ä¸Šè¿°å‘½ä»¤åˆ—å‡ºçš„é…ç½®é¡¹å¤–ï¼Œæ‰€æœ‰é…ç½®é¡¹å‡å¯é€šè¿‡å‘½ä»¤è¡Œé€‰é¡¹è¿›è¡Œé…ç½®ä»¥è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”é…ç½®é¡¹ã€‚</p>
<pre><code class="language-shell">--Class.trait='value'  # c.Class.trait in [jupyterhub_config.py]
</code></pre>
<p>éªŒè¯é…ç½®ï¼š</p>
<pre><code class="language-shell">jupyterhub --show-config -f config_file  # åˆ—å‡ºå½“å‰ç”Ÿæ•ˆçš„é…ç½®(ä»…éé»˜è®¤å€¼é¡¹)
</code></pre>
<h5 id="æ•°æ®å­˜å‚¨é…ç½®"><a class="header" href="#æ•°æ®å­˜å‚¨é…ç½®">æ•°æ®å­˜å‚¨é…ç½®</a></h5>
<pre><code class="language-python">c.JupyterHub.data_files_path = '/usr/local/share/jupyterhub'
c.JupyterHub.db_url = 'sqlite:////var/lib/jupyterhub/jupyterhub.sqlite'
</code></pre>
<blockquote>
<p>åœ¨è¯»å–é…ç½®æ–‡ä»¶æ—¶ï¼š<code>sqlite:///</code>è§†ä¸ºç›¸å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„éœ€è¦ä½¿ç”¨<code>sqlite:////</code>ã€‚</p>
</blockquote>
<h5 id="jupyterhubç½‘ç»œé…ç½®"><a class="header" href="#jupyterhubç½‘ç»œé…ç½®">JupyterHubç½‘ç»œé…ç½®</a></h5>
<p><code>bind_url</code>é…ç½®JupyterHubä»£ç†æœåŠ¡ï¼ˆç”¨æˆ·çš„Webè®¿é—®åœ°å€ï¼Œä»£æ›¿å¼ƒç”¨çš„<code>ip</code>ã€<code>port</code>å’Œ<code>base_url</code>ï¼‰ã€‚çœç•¥IPåˆ™ç›‘å¬æ‰€æœ‰åœ°å€æ¥æ”¶çš„è¯·æ±‚ï¼Œé»˜è®¤URLæ ¹è·¯å¾„ä¸º<code>/</code>ã€‚</p>
<pre><code class="language-python">c.JupyterHub.bind_url='http://:8000/'  # --url
</code></pre>
<p><code>api_url</code>é…ç½®REST APIæ¥å£çš„è®¿é—®åœ°å€ï¼ˆHubæœåŠ¡é€šè¿‡è¯¥æ¥å£ä¸ä»£ç†æœåŠ¡é€šä¿¡ï¼‰ã€‚</p>
<pre><code class="language-python">c.ConfigurableHTTPProxy.api_url = 'http://localhost:8001' 
</code></pre>
<p><code>hub_bind_url</code>é…ç½®HubæœåŠ¡çš„è®¿é—®åœ°å€ï¼ˆä»£ç†ä¸Spawnersé€šè¿‡è¯¥åœ°å€ä¸Hubé€šä¿¡ï¼Œä»£æ›¿<code>hub_ip</code>å’Œ<code>hub_port</code>ï¼‰ã€‚<code>hub_connect_url</code>ç”¨äºåˆ†ç¦»éƒ¨ç½²æ—¶æŒ‡å®šHubæœåŠ¡çš„åœ°å€ï¼ˆä»£æ›¿<code>hub_connect_ip</code>/<code>hub_connect_port</code>ï¼‰ã€‚</p>
<pre><code class="language-python">c.JupyterHub.hub_bind_url = 'http://localhost:8081'
c.JupyterHub.hub_connect_url = 'http://hub_ip:8081'
</code></pre>
<p><a href="https://jupyterhub.readthedocs.io/en/stable/reference/config-proxy.html#nginx">å¤–éƒ¨nginxåå‘ä»£ç†</a>ï¼š</p>
<pre><code class="language-nginx">map $http_upgrade $connection_upgrade {
    default upgrade;
    ''      close;
}
server {
  location /jupyterhub {
    proxy_pass http://127.0.0.1:8000;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header Host $host;  #  $http_host for http connection
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    # websocket headers
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection $connection_upgrade;
    proxy_set_header X-Scheme $scheme;

    proxy_buffering off;
  }
}
</code></pre>
<p>Spawnerç½‘ç»œé…ç½®ï¼š</p>
<pre><code class="language-python">c.Spawner.ip = '127.0.0.1'
c.Spawner.port = 0
</code></pre>
<p>ä½¿ç”¨SSLï¼š</p>
<pre><code class="language-shell">--ssl-key my_ssl.key   # c.JupyterHub.ssl_key = '/path/to/my.key'
--ssl-cert my_ssl.cert # c.JupyterHub.ssl_cert = '/path/to/my.cert'
</code></pre>
<blockquote>
<p>ä½¿ç”¨<code>jupyterhub --generate-certs</code>ç”Ÿæˆè‡ªç­¾åè¯ä¹¦å’Œç§é’¥ã€‚</p>
</blockquote>
<h5 id="ç”¨æˆ·è®¿é—®æ§åˆ¶"><a class="header" href="#ç”¨æˆ·è®¿é—®æ§åˆ¶">ç”¨æˆ·è®¿é—®æ§åˆ¶</a></h5>
<p>é…ç½®JupyterHubç”¨æˆ·</p>
<pre><code class="language-python">c.Authenticator.allowed_users = {'mal', 'zoe', 'inara', 'kaylee'} # åˆå§‹åŒ–ç”¨æˆ·é›†åˆ
c.Authenticator.admin_users = {'mal', 'zoe'}
</code></pre>
<blockquote>
<p><em>if <code>allowed_users</code> is not set, then all authenticated users will be allowed into your hub.</em></p>
</blockquote>
<p>å¯é€‰ï¼šä½¿ç”¨ç³»ç»Ÿç”¨æˆ·è¿›è¡Œé‰´æƒï¼š<em>creating that user via the system <code>adduser</code> command line tool.</em></p>
<pre><code class="language-python">c.LocalAuthenticator.create_system_users = True
# PAMAuthenticator -&gt; LocalAuthenticator -&gt; Authenticator
</code></pre>
<blockquote>
<p><em>This approach is not recommended when running JupyterHub in situations where JupyterHub users map directly onto the systemâ€™s UNIX users.</em></p>
</blockquote>
<p>è‡ªåŠ¨åˆ›å»ºç”¨æˆ·å¯èƒ½ä¼šå¤±è´¥ï¼ˆCentOS7ï¼‰ï¼Œå¯æå‰åˆ›å»ºç³»ç»Ÿç”¨æˆ·å¹¶è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<pre><code class="language-shell">allowed_users=(mal zoe inara)
for u in &quot;${users[@]}&quot;; do
    useradd -m -g ml $u;     # æ·»åŠ ç”¨æˆ·å¹¶æ·»åŠ åˆ°é¢„å®šä¹‰çš„ç»„
    if [ $? -eq 0 ]; then    # ä¸ºæ–°ç”¨æˆ·è®¾ç½®é»˜è®¤å¯†ç ï¼ˆç”¨äºJupyterHubåˆå§‹ç™»å½•éªŒè¯ï¼Œç™»é™†åä¿®æ”¹å¯†ç ï¼‰
        passwd $u --stdin &lt;&lt;&lt; '1234abcd'
    fi
    cat /etc/passwd | grep --color=always $u  # æ˜¾ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯
done
</code></pre>
<p>Hubå’ŒProxyï¼ˆ<code>ConfigurableHTTPProxy </code>ï¼‰ä¹‹é—´é€šè¿‡ä¸€ä¸ª<code>secret token</code>æ¥éªŒè¯è¯·æ±‚ã€‚æ­¤ä»¤ç‰Œå¯é€šè¿‡<code>openssl</code>ç”Ÿæˆï¼Œä¿å­˜åœ¨é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ä¸­ã€‚å¦‚æœæœªè®¾ç½®ï¼Œåˆ™Hubä¼šè‡ªåŠ¨éšæœºç”Ÿæˆä¸€ä¸ªï¼Œé‚£ä¹ˆé‡å¯Hubçš„åŒæ—¶éœ€è¦é‡å¯Proxyã€‚</p>
<pre><code class="language-shell">c.ConfigurableHTTPProxy.api_token = 'abc123...def' 
export CONFIGPROXY_AUTH_TOKEN=$(openssl rand -hex 32)
</code></pre>
<p><code>cookie secret</code>ç”¨äºå¯¹æµè§ˆå™¨ä¸­ç”¨äºé‰´æƒçš„Cookiesä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼Œå¯é€šè¿‡<code>openssl</code>ç”Ÿæˆã€‚</p>
<pre><code class="language-shell">openssl rand -hex 32 &gt; /srv/jupyterhub/jupyterhub_cookie_secret 
chmod 600 /srv/jupyterhub/jupyterhub_cookie_secret
export JPY_COOKIE_SECRET=$(openssl rand -hex 32)
</code></pre>
<p>æœ‰ä¸‰ç§æŒ‡å®šæ–¹å¼ï¼šé…ç½®ä¸ºç¯å¢ƒå˜é‡ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¯¥ä¿¡æ¯æ‰€åœ¨çš„æ–‡ä»¶æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¯¥ä¿¡æ¯ã€‚</p>
<pre><code class="language-python">c.JupyterHub.cookie_secret_file = '/srv/jupyterhub/jupyterhub_cookie_secret'
c.JupyterHub.cookie_secret = bytes.fromhex('64 CHAR HEX STRING')
</code></pre>
<blockquote>
<p>å¦‚æœæœªé…ç½®ä¸Šè¿°ä»»ä½•æ–¹æ³•ï¼Œåˆ™<code>jupyterhub_cookie_secret</code>é»˜è®¤åˆ›å»ºåœ¨è¿è¡ŒJupyterHubçš„ç”¨æˆ·çš„ä¸»ç›®å½•ä¸‹ã€‚è¯¥æ–‡ä»¶åº”è¯¥ä»…æœ‰è¯¥ç”¨æˆ·çš„è¯»å†™æƒé™ï¼Œå¦åˆ™æœåŠ¡ä¸ä¼šå¯åŠ¨ã€‚</p>
<p>ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®çš„éšæœºç”Ÿæˆå¯†ç ä¼šåœ¨é‡å¯æœåŠ¡æ—¶é‡æ–°ç”Ÿæˆï¼Œå¯¼è‡´æ‰€æœ‰ç™»å½•ä¼šè¯å¤±æ•ˆã€‚</p>
</blockquote>
<p><strong>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</strong>ï¼š<a href="https://jupyterhub.readthedocs.io/en/stable/rbac/scopes.html"><strong>Scopes</strong></a> are specific permissions used to evaluate API requests. <a href="https://jupyterhub.readthedocs.io/en/stable/rbac/roles.html"><strong>Roles</strong></a> are collections of scopes that specify the level of what a client is allowed to do. </p>
<pre><code class="language-python">c.JupyterHub.load_roles = [
â€ƒ{
â€ƒâ€ƒ 'name': 'server-rights',
â€ƒâ€ƒ 'description': 'Allows parties to start and stop user servers',
â€ƒâ€ƒ 'scopes': ['servers'],
â€ƒâ€ƒ 'users': ['alice', 'bob'],
â€ƒâ€ƒ 'services': ['idle-culler'],
â€ƒâ€ƒ 'groups': ['admin-group'],
â€ƒ}
]
</code></pre>
<p><a href="https://jupyterhub.readthedocs.io/en/stable/rbac/use-cases.html">Use Cases â€” Scopes in JupyterHub</a></p>
<h5 id="é…ç½®ç”¨æˆ·åå°æœåŠ¡"><a class="header" href="#é…ç½®ç”¨æˆ·åå°æœåŠ¡">é…ç½®ç”¨æˆ·åå°æœåŠ¡</a></h5>
<pre><code class="language-shell">c.Spawner.cmd = ['jupyterhub-singleuser']  # åå°å¯åŠ¨å‘½ä»¤
# c.Spawner.cmd=[&quot;jupyter-labhub&quot;]
c.Spawner.notebook_dir = '~/notebooks'     # å·¥ä½œç›®å½•è·¯å¾„(é»˜è®¤ä¸º~)
</code></pre>
<blockquote>
<p><em>Since the single-user server extends the notebook server application, it still loads configuration from the jupyter_notebook_config.py config file. Each user may have one of these files in $HOME/.jupyter/. Jupyter also supports loading system-wide config files from /etc/jupyter/, which is the place to put configuration that you want to affect all of your users.</em></p>
</blockquote>
<p>ä¿®æ”¹ç”¨æˆ·çš„å·¥ä½œç›®å½•ä¸ºJupyteræœåŠ¡ç‹¬å ç›®å½•ï¼Œé˜²æ­¢ä¸ç”¨æˆ·çš„å…¶ä»–æœåŠ¡çš„æ–‡ä»¶å†²çªã€‚å¦‚æœä¸ºç”¨æˆ·é…ç½®äº†éé»˜è®¤å·¥ä½œç›®å½•ï¼Œåˆ™éœ€è¦åœ¨ç”¨æˆ·æœåŠ¡åˆå§‹åŒ–å‰è¿›è¡Œæ£€æŸ¥ç¡®è®¤è¯¥ç›®å½•å­˜åœ¨ã€‚JupyterHubé…ç½®æ–‡ä»¶ä¸­æä¾›äº†åˆå§‹åŒ–è¿‡ç¨‹çš„æ¥å£ã€‚</p>
<pre><code class="language-shell">def my_hook(spawner):
    import os,pwd,shutil
    username = spawner.user.name
    path = f'/home/{username}/notebooks'
    if not os.path.exists(path):
        os.makedirs(path, mode=0o755, exist_ok=True)
        passwd = pwd.getpwnam(username)
        os.chown(path, passwd.pw_uid, passwd.pw_gid)
        src = '/usr/local/share/jupyterhub/.bashrc'
        if os.path.exists(src):
            dest = f'/home/{username}/.bashrc'
            shutil.copy(src, dest)
            os.chown(dest, passwd.pw_uid, passwd.pw_gid)
c.Spawner.pre_spawn_hook = my_hook
</code></pre>
<blockquote>
<p>é™¤äº†å·¥ä½œç›®å½•å¤–ï¼Œè¿™é‡Œä¹Ÿé™„å¸¦é…ç½®äº†ç”¨æˆ·çš„Shellåˆå§‹åŒ–æ–‡ä»¶ï¼ˆ<code>.bashrc</code>ä¸­åŒ…å«Pythonæ‰§è¡Œç¯å¢ƒåˆå§‹åŒ–ï¼Œå¯å°†å·²æœ‰ç”¨æˆ·çš„Shellé…ç½®æ–‡ä»¶ä½œä¸ºæ¨¡æ¿æ–‡ä»¶ï¼‰ã€‚</p>
</blockquote>
<p>èµ„æºåˆ†é…æ§åˆ¶</p>
<pre><code class="language-python">c.JupyterHub.active_server_limit = 0
c.JupyterHub.active_user_window = 1800
c.JupyterHub.activity_resolution = 30
c.Spawner.cpu_guarantee = None
c.Spawner.cpu_limit = None
c.Spawner.mem_guarantee = None
c.Spawner.mem_limit = None
</code></pre>
<h5 id="å¯åŠ¨jupyterhub"><a class="header" href="#å¯åŠ¨jupyterhub">å¯åŠ¨JupyterHub</a></h5>
<p>ä»¥ç³»ç»ŸæœåŠ¡è¿è¡ŒJupyterHubï¼š</p>
<pre><code class="language-ini">[Service]
Type=simple
Environment=&quot;PATH=/usr/local/miniconda3/envs/jupyterhub/bin:...&quot;
ExecStart=/usr/local/miniconda3/envs/jupyterhub/bin/jupyterhub -f \
          /etc/jupyterhub/jupyterhub_config.py
TimeoutSec=10
ExecStop=/bin/kill -s TERM $MAINPID
StandardOutput=journal
StandardError=journal
SyslogIdentifier=JupyterHub
User=root
</code></pre>
<p>ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡ŒJupyterHubå¯å…è®¸å¤šç”¨æˆ·ç™»å½•ã€‚</p>
<blockquote>
<p><a href="https://github.com/jupyterhub/jupyterhub/wiki/Using-sudo-to-run-JupyterHub-without-root-privileges">Using sudo to run JupyterHub without root privileges Â· jupyterhub/jupyterhub Wiki (github.com)</a></p>
</blockquote>
<h4 id="jupyter-docker-stack"><a class="header" href="#jupyter-docker-stack">Jupyter Docker Stack</a></h4>
<p>https://jupyter-docker-stacks.readthedocs.io/en/latest/</p>
<p>Docker image for Core Stacksï¼šhttps://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#core-stacks</p>
<blockquote>
<p>https://hub.docker.com/u/jupyter</p>
</blockquote>
<p><a href="https://jupyterhub.readthedocs.io/en/stable/quickstart-docker.html">Using Docker â€” JupyterHub 2.2.2 documentation</a></p>
<p><a href="https://zero-to-jupyterhub.readthedocs.io/en/latest/">Zero to JupyterHub with Kubernetes â€” Zero to JupyterHub with Kubernetes documentation (zero-to-jupyterhub.readthedocs.io)</a></p>
<p>JupyterLab Documentationï¼šhttps://jupyterlab.readthedocs.io/en/latest/</p>
<h4 id="é—®é¢˜"><a class="header" href="#é—®é¢˜">é—®é¢˜</a></h4>
<ol>
<li>
<p>ç»ˆç«¯å¯åŠ¨é…ç½®é—®é¢˜ï¼Œæ— æ³•åƒç™»å½•ç»ˆç«¯ä¸€æ ·åˆå§‹åŒ–ï¼š<a href="https://stackoverflow.com/questions/60073276/how-to-login-to-bash-with-current-user-and-the-users-bashrc-file-in-jupyterl">jupyter - How to login to bash with current user, and the user's .bashrc file, in jupyterlab? - Stack Overflow</a></p>
<pre><code class="language-python">c.ServerApp.terminado_settings = {'shell_command': ['/bin/bash']}
</code></pre>
</li>
</ol>
<h3 id="pycharm"><a class="header" href="#pycharm"><a href="https://www.runoob.com/w3cnote/pycharm-windows-install.html">PyCharm</a></a></h3>
<p>æ”¯æŒWindowsã€Linuxå’Œmacã€‚</p>
<h2 id="è¾…åŠ©å·¥å…·"><a class="header" href="#è¾…åŠ©å·¥å…·">è¾…åŠ©å·¥å…·</a></h2>
<p><strong>pyreadline</strong>ï¼šå‘½ä»¤è¡Œè‡ªåŠ¨è¡¥å…¨ã€‚åœ¨Windowså¹³å°ä¸­ï¼Œå¦‚æœå‘½ä»¤è®°å½•ä¸­åŒ…å«ä¸­æ–‡ï¼Œé‚£ä¹ˆ<code>pyreadline</code>åœ¨è¯»å–å†å²è®°å½•æ—¶é‡‡ç”¨å¹³å°ç›¸å…³çš„ç¼–ç ï¼ˆ<code>gbk</code>ï¼‰ä¼šå‡ºé”™ã€‚å¯ä»¥å°†å…¶æºç ä¸­é»˜è®¤çš„ç¼–ç æ–¹å¼æ”¹ä¸º<code>utf-8</code>ã€‚</p>
<pre><code class="language-python"># xxx\envs\data\lib\site-packages\pyreadline\lineeditor\history.py
for line in open(filename, 'r', encoding='utf-8'):
</code></pre>
<h2 id="å‚è€ƒæ–‡çŒ®"><a class="header" href="#å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</a></h2>
<div class="footnote-definition" id="jupyterhub"><sup class="footnote-definition-label">2</sup></div>
<div class="footnote-definition" id="vsctest"><sup class="footnote-definition-label">1</sup>
<p><a href="https://code.visualstudio.com/docs/python/testing">Testing Python in Visual Studio Code</a>.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Python/Pythonç¼–ç¨‹åŸºç¡€.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../Python/Pythonæ•°æ®ç±»å‹.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Python/Pythonç¼–ç¨‹åŸºç¡€.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../Python/Pythonæ•°æ®ç±»å‹.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/pagetoc.js"></script>
        <script type="text/javascript" src="../theme/MathJax.js"></script>
    </body>
</html>